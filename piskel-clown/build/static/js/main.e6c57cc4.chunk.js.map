{"version":3,"sources":["components/tools/images/colorpicker.png","components/tools/images/bucket.png","components/tools/images/pen.png","components/tools/images/eraser.png","store/store.js","components/tools/toolsDomBuilder.js","components/tools/color-picker.js","components/tools/paintBucket.js","components/tools/pen.js","components/tools/eraser.js","screens/canvas/resizeWindow.js","screens/canvas/drawing.js","screens/preview/preview.js","screens/canvas/canvasDomBuilder.js","components/frames-list/frameDomBuilder.js","components/frames-list/canvasManager.js","components/frames-list/framesManager.js","components/menu/options.js","screens/preview/previewDomBuilder.js","homepage/create/create.js","homepage/user/user.js","homepage/about/about.js","homepage/home.js","serviceWorker.js","index.js"],"names":["module","exports","store","createStore","state","arguments","length","undefined","action","type","Object","assign","currentPage","value","currentColor","prevColor","currentTool","currentCanvas","fps","customWidth","name","imageURL","toolState","currentColorState","prevColorState","subscribe","getState","Tools","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","tool","active","mounted","_this2","$","document","click","e","colorPickerHandleClick","css","dispatch","current","prev","target","is","background-color","id","attr","setState","children","removeClass","_this3","react_default","a","createElement","className","onMouseEnter","buttonOnHoverIn","onMouseLeave","buttonOnHoverOut","onClick","find","addClass","hasClass","focus","body","cursor","concat","paintBucketIcon","blur","colorPicker","penIcon","erserIcon","onChange","customedColor","val","match","map","v","parseInt","join","customedColorOnChange","React","Component","canvasWidth","window","innerWidth","innerHeight","bind","i","imageData","get","getContext","getImageData","changeWidth","putImageData","text","width","endX","endY","mouseDownX","mouseDownY","end","ctx","offsetX","offsetY","fillStyle","strokeStyle","canvasSize","Math","ceil","mouseMoveX","floor","mouseMoveY","fillRect","start","globalCompositeOperation","mousemove","anim","newWindow","count","animate","clearTimeout","time","display","style","setTimeout","makeImage","n","canvasImage","Image","toDataURL","insertBefore","next","remove","appendTo","fullSizePreview","close","open","newPreview","clone","justify-content","align-items","height","newFps","newCount","ready","newAnimate","Canvas","size","curCanvas","penHandleClick","unbind","mousedown","mouseup","off","dataURL","background","background-size","openCanvas","num","toggleClass","hoverIn","hoverOut","updateId","removeFrame","parent","copyFrame","insertAfter","hover","cloneWrapper","copyCanvas","addNewFrame","first","last","class","newCanvas","Frames","Preview","role","tabIndex","onKeyPress","Options","inputVal","maxSize","min","max","step","defaultValue","fpsOnChangeHandler","resizeCanvasOnClickHandler","CreateAnimation","toolsDomBuilder","frameDomBuilder","canvasDomBuilder","previewDomBuilder","options","User","backgroundImage","backgroundSize","About","AppRouter","img","redirected","onSuccess","assertThisInitialized","gapi","load","auth2","init","client_id","then","signin2","render","scope","longtitle","onsuccess","onfailure","onFailure","googleUser","profile","getBasicProfile","ID","getId","fullName","getName","getImageUrl","getAuthInstance","signOut","react_router","to","clicked","currentTarget","getAttribute","_this4","react_router_dom","addActiveClass","isRedirected","path","exact","component","Boolean","location","hostname","ReactDOM","homepage_home","getElementById","navigator","serviceWorker","registration","unregister"],"mappings":"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","file":"static/js/main.e6c57cc4.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADCSURBVDhP7dAxCwFhGMDxh00Gk4nBYDAZFIvNJ/BBDOwGiUlJklAWPov4FqSUDEqUSfyf91zdqTuv3b9+3fte3b13j1hUwxpLJPWGTRHE0cLTYw6rGtjC+7BawVf0ff0sgYyz9GX1BW3cUMUG7un6O1/r4YKy2Ynk8cAeMb0RVhdnFM1OJIsdFqhDBxtYBXeUzE4khwMmCJqTrzGmzlIKOGKA0FPdUjihgz6uaMK6IXTK+pIZ3AFap9MdIW12/35M5AUsFCcIOdPfYQAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAEdSURBVEhL3dU/a8JAHMbxIChYlQ52aIeCU6Gbk2+hXcV306lDofSttIvuQsGhk4uLIIiCVVF0KxQ6td9HchDkvDvSdKgPfCC55H4PJP6Jjj4tPKOwO8s4ZSzxjTb+pKSODVTSwf8sKeIVKsi85ARdaPAa2/g4k5IKetBAvexr6HFlUnKKN2jQDFcw+fU7qaIPDZighv2kLjnDANo4wiUOJVXJC7RhiAsteJIsudeCK3l84RPnWghMAyqY7s4cyeEDujkNb4HyBNvmEN5HpOhF6YfNNsDFvORmzBndqA22QTZmeAnzmI6dCS1JfjzvYNZ17I2vJDlcGcNc03FQDpXY/oDeYa7r5yU4+n48YIEVHrE/XLmFBsuNFo4hUfQDRmuR/2vYwfIAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAAAOdJREFUOI3t0zErhWEUAOCnK9Pd76a4kjALGQ0+1ySrwXgXg9WPMBjFYJMSZTGom1kppJj9BBYZGL4zfG4ZvnPv6Cxv5z29T+e8dUbkYxK72EATL/huJLEC54FcoYNTpLwC79jpuz+Jbmtjd2ijh61KrYP9DNaKfAFfFXQbe1lsDg+Yx61y/HuMDYLNRN5W/mkxDKwV9TT2iNl/7M9YGybWxAcuMR3YU5y1MVjHIVZwg7dBMDjwe7F7mMpi8IrFSr6Kiyw2gWflBixhE0dqrFM1GtHNJ0ZxjGWcKce9rguKLroYzzzujx/AVUNl5zj/7wAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAAAWZJREFUOI2t0jFI1VEUx/FPGjlki9ai0CQIDQ5pCqbNTxJdykGdWmxxsUAHXYJwqMVBNHVzKWh2EAdBTDCQFhWKrMW2aFTiyXO4f+GP/u//8dQfHLiXe+73nvs7h2tWdYX5PZhDF6rwCyeXffwZVtCIZkxgHe9wv1LYIJZwM+OsDbOYjpxf0BBmcCMnpxa/0VEONoz5MrB7+IgDwdeoBgXDh3NymvAZvXiVB3uOIkpJ7OE1GlI5rVhFndD5OzFYAf9TsHScYAMfsIl6PBA6nqlW/IvAzmIL+7greLuI21mwGvzENhawjL8pUBHvsYPu5M5bPI5VN3qukgNMYQCTQpP2EiCM4WkMVoPDyBeLaE8eKGEcL9EXg8FIBHbWiBep/Tf058Gq8D0H+AWfkvWxMHO5epIDKwnGHyVRKAerxp/kYhtuZeR8xcOksrVywLTqBMN/pKrbFQa4sxJQlh7hjTCLLVeFXUmnRmtxEV/Efn8AAAAASUVORK5CYII=\"","import { createStore } from 'redux';\n\nfunction appState(state = {}, action) {\n  switch (action.type) {\n    case 'currentPage':\n      return Object.assign({}, state, {\n        currentPage: action.value\n      });\n    case 'currentColor':\n      return Object.assign({}, state, {\n        currentColor: action.value\n      });\n    case 'prevColor':\n      return Object.assign({}, state, {\n        prevColor: action.value\n      });\n    case 'currentTool':\n      return Object.assign({}, state, {\n        currentTool: action.value\n      });\n    case 'currentCanvas':\n      return Object.assign({}, state, {\n        currentCanvas: action.value\n      });\n    case 'fps':\n      return Object.assign({}, state, {\n        fps: action.value\n      });\n    case 'customWidth':\n      return Object.assign({}, state, {\n        customWidth: action.value\n      });\n    case 'name':\n      return Object.assign({}, state, {\n        name: action.value\n      });\n    case 'imageURL':\n      return Object.assign({}, state, {\n        imageURL: action.value\n      });\n    default:\n      return state;\n  }\n}\n\nconst store = createStore(appState);\n\nexport default store;\n","import React from 'react';\nimport $ from 'jquery';\nimport './tools.css';\nimport { colorPickerOnClick, customedColorOnChange, changeBG } from './color-picker';\nimport paintBucketOnClick from './paintBucket';\nimport penOnClick from './pen';\nimport eraserOnClick from './eraser';\nimport store from '../../store/store';\n\nlet toolState;\nlet currentColorState;\nlet prevColorState;\nstore.subscribe(() => {\n  toolState = store.getState().currentTool;\n  currentColorState = store.getState().currentColor;\n  prevColorState = store.getState().prevColor;\n});\n\nclass Tools extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      tool: '',\n      active: ''\n    };\n    this.mounted = false;\n  }\n\n  componentWillMount() {\n    $(document).click(e => this.colorPickerHandleClick(e));\n  }\n\n  componentDidMount() {\n    const currentColor = $('#currentColor').css('background-color');\n    const prevColor = $('#prevColor').css('background-color');\n    store.dispatch({ type: 'currentColor', value: currentColor });\n    store.dispatch({ type: 'prevColor', value: prevColor });\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  colorPickerHandleClick(e) {\n    if (this.state.tool === 'colorPickerTool') {\n      if ($(e.target).is('.radiobutton')) {\n        if ($(e.target).css('background-color') !== currentColorState) {\n          store.dispatch({ type: 'prevColor', value: currentColorState });\n          store.dispatch({ type: 'currentColor', value: $(e.target).css('background-color') });\n          changeBG(currentColorState, prevColorState);\n        }\n      }\n    }\n  }\n\n  buttonOnHoverIn(e) {\n    const id = $(e.target).attr('id');\n    if (this.mounted) {\n      this.setState({ active: id });\n    }\n  }\n\n  buttonOnHoverOut(e) {\n    $(e.target)\n      .children()\n      .removeClass('fas-hovered');\n    if (this.mounted) {\n      this.setState({ active: 'false' });\n    }\n  }\n\n  render() {\n    return (\n      <div name=\"Tools\">\n        <div className=\"palette\" id=\"palette-tool-area\">\n          <div className=\"palette-block\">\n            <button\n              id=\"paint-bucket\"\n              className=\"palette-button\"\n              type=\"button\"\n              onMouseEnter={e => this.buttonOnHoverIn(e)}\n              onMouseLeave={e => this.buttonOnHoverOut(e)}\n              onClick={() => {\n                paintBucketOnClick();\n                if (this.mounted) {\n                  this.setState({ tool: toolState });\n                }\n              }}\n            >\n              <i\n                className={`fas fa-fill-drip ${\n                  this.state.active === 'paint-bucket' ? 'fas-hovered' : ''\n                }`}\n              />\n            </button>\n          </div>\n          <div className=\"palette-block\">\n            <button\n              id=\"color-picker\"\n              className=\"palette-button\"\n              type=\"button\"\n              onMouseEnter={e => this.buttonOnHoverIn(e)}\n              onMouseLeave={e => this.buttonOnHoverOut(e)}\n              onClick={() => {\n                colorPickerOnClick();\n                if (this.mounted) {\n                  this.setState({ tool: toolState });\n                }\n              }}\n            >\n              <i\n                className={`fas fa-eye-dropper ${\n                  this.state.active === 'color-picker' ? 'fas-hovered' : ''\n                }`}\n              />\n            </button>\n          </div>\n          <div className=\"palette-block\">\n            <button\n              id=\"pen\"\n              className=\"palette-button\"\n              type=\"button\"\n              onMouseEnter={e => this.buttonOnHoverIn(e)}\n              onMouseLeave={e => this.buttonOnHoverOut(e)}\n              onClick={() => {\n                penOnClick();\n                if (this.mounted) {\n                  this.setState({ tool: toolState });\n                }\n              }}\n            >\n              <i\n                className={`fas fa-pencil-alt ${this.state.active === 'pen' ? 'fas-hovered' : ''}`}\n              />\n            </button>\n          </div>\n          <div className=\"palette-block\">\n            <button\n              id=\"eraser\"\n              className=\"palette-button\"\n              type=\"button\"\n              onMouseEnter={e => this.buttonOnHoverIn(e)}\n              onMouseLeave={e => this.buttonOnHoverOut(e)}\n              onClick={() => {\n                eraserOnClick();\n                if (this.mounted) {\n                  this.setState({ tool: toolState });\n                }\n              }}\n            >\n              <i\n                className={`fas fa-eraser ${this.state.active === 'eraser' ? 'fas-hovered' : ''}`}\n              />\n            </button>\n          </div>\n        </div>\n\n        <div className={`color ${this.state.tool === 'colorPickerTool' ? '' : 'hidden'}`}>\n          <div className=\"color-block\">\n            <div className=\"radiobutton white\" id=\"currentColor\" />\n            <span className=\"color-name\">Current color</span>\n          </div>\n          <div className=\"color-block\">\n            <div className=\"radiobutton green\" id=\"prevColor\" />\n            <span className=\"color-name\">Prev color</span>\n          </div>\n          <div className=\"color-block\">\n            <div className=\"radiobutton red\" />\n            <span className=\"color-name\">Red</span>\n          </div>\n          <div className=\"color-block\">\n            <div className=\"radiobutton blue\" />\n            <span className=\"color-name\">Blue</span>\n          </div>\n          <div className=\"color-block\">\n            <input\n              type=\"color\"\n              name=\"colors\"\n              id=\"customed\"\n              value=\"#161030\"\n              onChange={() => {\n                customedColorOnChange();\n              }}\n            />\n            <span className=\"color-name\">Custom color</span>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Tools;\n","import $ from 'jquery';\nimport colorPicker from './images/colorpicker.png';\nimport store from '../../store/store';\n\n// chose color from pop out panel of colors and bind it to current color box\nfunction customedColorOnChange() {\n  const customedColor = `rgb(${$('#customed')\n    .val()\n    .match(/[A-Za-z0-9]{2}/g)\n    .map(v => {\n      return parseInt(v, 16);\n    })\n    .join(', ')})`;\n  store.dispatch({ type: 'prevColor', value: store.getState().currentColor });\n  store.dispatch({ type: 'currentColor', value: customedColor });\n  $('#prevColor').css({ 'background-color': $('#currentColor').css('background-color') });\n  $('#currentColor').css({ 'background-color': customedColor });\n}\n\n// change style of tool button\nfunction colorPickerOnClick() {\n  if (store.getState().currentTool !== 'colorPickerTool') {\n    $('#palette-tool-area')\n      .find('button')\n      .removeClass('hovered');\n    $('#color-picker').addClass('hovered');\n    store.dispatch({ type: 'currentTool', value: 'colorPickerTool' });\n    $('#color-picker').focus();\n    $(document.body).css({ cursor: `url(${colorPicker}) 4 12, auto` });\n  } else if (store.getState().currentTool === 'colorPickerTool') {\n    store.dispatch({ type: 'currentTool', value: 'none' });\n    $('#color-picker').removeClass('hovered');\n    $('.color').addClass('hidden');\n    $('#color-picker').blur();\n    $(document.body).css({ cursor: 'default' });\n  }\n}\n\nfunction changeBG(current, prev) {\n  $('#currentColor').css({ 'background-color': current });\n  $('#prevColor').css({ 'background-color': prev });\n}\n\nexport { customedColorOnChange, colorPickerOnClick, changeBG };\n","import $ from 'jquery';\nimport store from '../../store/store';\nimport paintBucketIcon from './images/bucket.png';\n\n// change tool-button style, tool does not work yet\nexport default function paintBucketOnClick() {\n  if (store.getState().currentTool !== 'paintBucketTool') {\n    $('#palette-tool-area')\n      .find('button')\n      .removeClass('hovered');\n    $('#paint-bucket').addClass('hovered');\n    if (!$('.color').hasClass('hidden')) {\n      $('.color').addClass('hidden');\n    }\n    store.dispatch({ type: 'currentTool', value: 'paintBucketTool' });\n    $('#paint-bucket').focus();\n    $(document.body).css({ cursor: `url(${paintBucketIcon}), auto` });\n  } else if (store.getState().currentTool === 'paintBucketTool') {\n    store.dispatch({ type: 'currentTool', value: '' });\n    $('#paint-bucket').removeClass('hovered');\n    $('#paint-bucket').blur();\n    $(document.body).css({ cursor: 'default' });\n  }\n}\n","import $ from 'jquery';\nimport './tools.css';\nimport store from '../../store/store';\nimport penIcon from './images/pen.png';\n\n// change button-tool style if clicked\nexport default function penOnClick() {\n  if (store.getState().currentTool !== 'penTool') {\n    $('#palette-tool-area')\n      .find('button')\n      .removeClass('hovered');\n    store.dispatch({ type: 'currentTool', value: 'penTool' });\n    $('#pen').addClass('hovered');\n    $('#pen').focus();\n    $(document.body).css({ cursor: `url(${penIcon}) 1 18, auto` });\n  } else if (store.getState().currentTool === 'penTool') {\n    store.dispatch({ type: 'currentTool', value: '' });\n    $('#pen').removeClass('hovered');\n    $('#pen').blur();\n    $(document.body).css({ cursor: 'default' });\n  }\n}\n","import $ from 'jquery';\nimport './tools.css';\nimport store from '../../store/store';\nimport erserIcon from './images/eraser.png';\n\n// change button-tool style if clicked\nexport default function eraserOnClick() {\n  if (store.getState().currentTool !== 'eraserTool') {\n    store.dispatch({ type: 'currentTool', value: 'eraserTool' });\n    $('#palette-tool-area')\n      .find('button')\n      .removeClass('hovered');\n    $('#eraser').addClass('hovered');\n    $('#eraser').focus();\n    $(document.body).css({ cursor: `url(${erserIcon}) 1 18, auto` });\n  } else if (store.getState().currentTool === 'eraserTool') {\n    store.dispatch({ type: 'currentTool', value: '' });\n    $('#eraser').removeClass('hovered');\n    $('#eraser').blur();\n    $(document.body).css({ cursor: 'default' });\n  }\n}\n","import $ from 'jquery';\n\nconst canvasWidth =\n  window.innerWidth - 450 < window.innerHeight - 155\n    ? window.innerWidth - 450\n    : window.innerHeight - 155;\n\n$(window).bind('resize', () => {\n  for (let i = 0; i < $('.canvas-area').children().length; i += 1) {\n    // get context before resizing\n    const imageData = $(`#canvas${i + 1}`)\n      .get(0)\n      .getContext('2d')\n      .getImageData(0, 0, canvasWidth, canvasWidth);\n\n    // calc new canvas width on resize the window\n    const changeWidth =\n      window.innerWidth - 450 < window.innerHeight - 155\n        ? window.innerWidth - 450\n        : window.innerHeight - 155;\n\n    $(`#canvas${i + 1}`)\n      .attr('width', changeWidth)\n      .attr('height', changeWidth); // all canvases will resize\n\n    // put context after resizing\n    $(`#canvas${i + 1}`)\n      .get(0)\n      .getContext('2d')\n      .putImageData(imageData, 0, 0);\n  }\n  $('#new-width').text($('#canvas1').width()); // change resize options\n  $('#resize-input').attr('max', $('#canvas1').width());\n});\n","import $ from 'jquery';\nimport store from '../../store/store';\n\nlet currentCanvas;\nlet customWidth;\nlet tool;\nstore.subscribe(() => {\n  currentCanvas = store.getState().currentCanvas;\n  customWidth = store.getState().customWidth || 33;\n  tool = store.getState().currentTool;\n});\n\nlet endX;\nlet endY;\nlet mouseDownX;\nlet mouseDownY;\n\n// drawing on mouse move\nfunction end(e) {\n  const ctx = $(`#canvas${currentCanvas}`)\n    .get(0)\n    .getContext('2d');\n  endX = e.offsetX;\n  endY = e.offsetY;\n  if (tool === 'penTool') {\n    ctx.fillStyle = $('#currentColor').css('background-color'); // color depends on chosen color\n    ctx.strokeStyle = $('#currentColor').css('background-color');\n  } else if (tool === 'eraserTool') {\n    ctx.fillStyle = 'rgba(0, 0, 0, 1)';\n    ctx.strokeStyle = 'rgba(0, 0, 0, 1)';\n  }\n  // calc pen size according to chosen canvas width\n  const canvasSize = Math.ceil($(`#canvas${currentCanvas}`).width() / customWidth);\n  // calc position and size of canvas rectangles according to pen size\n  const mouseMoveX = Math.floor(e.offsetX / canvasSize) * canvasSize;\n  const mouseMoveY = Math.floor(e.offsetY / canvasSize) * canvasSize;\n  if (mouseDownX > endX || mouseDownY > endY) {\n    ctx.fillRect(mouseMoveX, mouseMoveY, canvasSize, canvasSize);\n  } else if (mouseDownX + canvasSize < endX || mouseDownY + canvasSize < endY) {\n    ctx.fillRect(mouseMoveX, mouseMoveY, canvasSize, canvasSize);\n  }\n}\n\n// drawing on mouse click\nfunction start(e) {\n  if (tool === 'penTool' || tool === 'eraserTool') {\n    const ctx = $(`#canvas${currentCanvas}`)\n      .get(0)\n      .getContext('2d');\n    const canvasSize = Math.ceil($(`#canvas${currentCanvas}`).width() / customWidth);\n    if (tool === 'penTool') {\n      ctx.globalCompositeOperation = 'source-over';\n      ctx.fillStyle = $('#currentColor').css('background-color');\n      ctx.strokeStyle = $('#currentColor').css('background-color');\n    } else if (tool === 'eraserTool') {\n      ctx.fillStyle = 'rgba(0, 0, 0, 1)';\n      ctx.strokeStyle = 'rgba(0, 0, 0, 1)';\n      ctx.globalCompositeOperation = 'destination-out';\n    }\n    mouseDownX = Math.floor(e.offsetX / canvasSize) * canvasSize;\n    mouseDownY = Math.floor(e.offsetY / canvasSize) * canvasSize;\n    ctx.fillRect(mouseDownX, mouseDownY, canvasSize, canvasSize);\n    $(`#canvas${currentCanvas}`).mousemove(end);\n  }\n}\n\nexport { start, end };\n","import $ from 'jquery';\nimport store from '../../store/store';\n\nlet fps;\nstore.subscribe(() => {\n  fps = store.getState().fps || 3;\n});\nlet count = 0;\nlet anim;\nfunction animate() {\n  clearTimeout(anim); // stop old animation\n  const time = 1000 / fps; // calc animation speed\n  $('.preview')\n    .children()\n    .css({ display: 'none' }); // hide all canvas-images\n  if ($('.preview').children()[count]) {\n    $('.preview').children()[count].style.display = 'block'; // show only the \"count\"-th image\n  }\n  count += 1;\n  if (count === $('.preview').children().length) {\n    count = 0; // restart counting if all images were shown\n  }\n\n  anim = setTimeout(animate, time); // repeat animation\n}\n\n// make image from canvas drawing\nfunction makeImage(n) {\n  const canvasImage = new Image();\n  $(canvasImage)\n    .attr('id', `canvasImage${n}`)\n    .css({ width: '100%' })\n    .attr('src', $(`#canvas${n}`)[0].toDataURL('image/png'));\n\n  // if the image is from the same canvas should update the image\n  if ($(`#canvasImage${n}`).length) {\n    $(canvasImage)\n      .insertBefore(`#canvasImage${n}`)\n      .next()\n      .remove();\n  } else {\n    // if new canvas was made should append new image\n    $(canvasImage).appendTo('.preview');\n  }\n  if ($('.preview').children().length > 1) {\n    count = 0;\n    animate();\n  } else {\n    clearTimeout(anim);\n  }\n}\n\nlet newWindow;\nlet id = 0;\n// open new window to watch animation in full-size mode\nfunction fullSizePreview() {\n  if (newWindow) {\n    id += 1;\n    newWindow.close();\n  }\n  newWindow = window.open('about:blank', `window${id}`, 'width=300,height=300');\n\n  // cloning animation box with images to new window\n  const newPreview = $('.preview')\n    .clone()\n    .appendTo(newWindow.document.body)\n    .css({ display: 'flex', 'justify-content': 'center', 'align-items': 'center', height: '100%' });\n  $(newWindow.document.body).css({\n    display: 'flex',\n    'justify-content': 'center',\n    'align-items': 'center'\n  });\n\n  const newFps = fps;\n  let newCount = 0;\n\n  function newAnimate() {\n    // clearTimeout(newAnim);\n    const time = 1000 / newFps;\n    newPreview.children().css({ display: 'none' });\n    if (newPreview.children()[newCount]) {\n      newPreview.children()[newCount].style.display = 'block';\n    }\n    newCount += 1;\n    if (newCount === newPreview.children().length) {\n      newCount = 0;\n    }\n    setTimeout(newAnimate, time);\n  }\n  // when new window loaded should start animation\n  $(newWindow).ready(newAnimate);\n}\n\nexport { makeImage, animate, fullSizePreview };\n","import React from 'react';\nimport $ from 'jquery';\nimport './resizeWindow';\nimport './canvas.css';\nimport store from '../../store/store';\nimport { start } from './drawing';\nimport { makeImage } from '../preview/preview';\n\nlet currentCanvas;\nstore.subscribe(() => {\n  currentCanvas = store.getState().currentCanvas;\n});\n\nclass Canvas extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      size: '',\n      curCanvas: ''\n    };\n    this.mounted = false;\n  }\n\n  componentWillMount() {\n    const canvasWidth =\n      window.innerWidth - 450 < window.innerHeight - 155\n        ? window.innerWidth - 450\n        : window.innerHeight - 155;\n    this.setState({ size: canvasWidth });\n\n    $(document).click(() => this.penHandleClick());\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    if (this.mounted) {\n      this.setState({ curCanvas: currentCanvas });\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  penHandleClick() {\n    if (this.mounted) {\n      this.setState({ curCanvas: currentCanvas });\n    }\n\n    // remove old events\n    $(`#canvas${this.state.curCanvas}`)\n      .unbind('mousedown')\n      .unbind('mouseup');\n    // initialize new events\n    $(`#canvas${this.state.curCanvas}`).mousedown(start);\n    $(`#canvas${this.state.curCanvas}`).mouseup(() => {\n      $(`#canvas${this.state.curCanvas}`).off('mousemove');\n      // create canvas-image url\n      const dataURL = $(`#canvas${this.state.curCanvas}`)[0].toDataURL('image/png');\n      // put canvas image in preview-box\n      $(`#frame${this.state.curCanvas}`)\n        .find('.preview-box')\n        .css({\n          background: `url(${dataURL})`,\n          'background-size': 'contain'\n        });\n      // create image for animation preview\n      setTimeout(() => {\n        makeImage(this.state.curCanvas);\n      }, 500);\n    });\n  }\n\n  render() {\n    return (\n      <canvas\n        id=\"canvas1\"\n        className=\"canvas hidden\"\n        width={this.state.size}\n        height={this.state.size}\n      />\n    );\n  }\n}\n\nexport default Canvas;\n","import React from 'react';\nimport $ from 'jquery';\nimport './frames.css';\nimport { hoverIn, hoverOut, addNewFrame, removeFrame, copyFrame } from './framesManager';\nimport { openCanvas } from './canvasManager';\nimport store from '../../store/store';\n\nlet customWidth;\nstore.subscribe(() => {\n  customWidth = store.getState().customWidth;\n});\n\nclass Frames extends React.Component {\n  constructor() {\n    super();\n    this.state = {};\n  }\n\n  componentDidMount() {\n    $('.frame')\n      .hover(hoverIn, hoverOut)\n      .click(openCanvas); // show/hide frame buttons\n    $('.removeFrame').click(removeFrame); // frame-button to remove frame\n    $('.copyFrame').click(copyFrame); // frame-button to copy frame\n\n    // make the first frame active\n    $('#frame1')\n      .click(openCanvas)\n      .click();\n\n    // calculating canvas resize options\n    $('#current-width').text(customWidth);\n    $('#current-height').text(customWidth);\n    $('#new-width').text($('#canvas1').width());\n    $('#resize-input').attr('max', $('#canvas1').width());\n  }\n\n  render() {\n    return (\n      <div className=\"frame-box\">\n        <ul id=\"frame-list\" className=\"frame-list\">\n          <li className=\"frame activeFrame\" id=\"frame1\">\n            <p id=\"preview-box\" className=\"preview-box\" />\n            <title className=\"number\">1</title>\n            <span className=\"copyFrame hidden\">\n              <i className=\"fas fa-copy\" />\n            </span>\n            <span className=\"removeFrame hidden\">\n              <i className=\"fas fa-trash-alt\" />\n            </span>\n          </li>\n        </ul>\n        <button className=\"addNewFrame\" onClick={addNewFrame} type=\"button\">\n          Add new frame\n        </button>\n      </div>\n    );\n  }\n}\n\nexport default Frames;\n","import $ from 'jquery';\nimport { makeImage } from '../../screens/preview/preview';\nimport store from '../../store/store';\n\n// show canvas according to active frame, hide other canvas\nfunction openCanvas() {\n  const num = $(this)\n    .find('.number')\n    .text(); // calc target frame ID\n  store.dispatch({ type: 'currentCanvas', value: +num });\n  $('.canvas').addClass('hidden'); // hide all canvas\n  $(`#canvas${num}`).removeClass('hidden'); // show current canvas\n  if ($('.activeFrame')) {\n    $('.activeFrame').removeClass('activeFrame');\n  }\n  $(this).toggleClass('activeFrame'); // make current frame active\n  setTimeout(() => {\n    makeImage(+num); // automatically make image of current canvas for animation\n  }, 200);\n}\n\n// create new canvas if new frame was created\nfunction newCanvas(n) {\n  const canvasWidth =\n    window.innerWidth - 450 < window.innerHeight - 155\n      ? window.innerWidth - 450\n      : window.innerHeight - 155;\n  const canvas = $('<canvas/>', {\n    class: 'canvas hidden',\n    id: `canvas${n}`\n  })\n    .attr('width', canvasWidth)\n    .attr('height', canvasWidth);\n  canvas.appendTo('.canvas-area');\n}\n\n// copy target frame's canvas with content if the frame was cloned\nfunction copyCanvas(n) {\n  const cloneWrapper = $(`#canvas${n}`)\n    .clone()\n    .attr('id', `canvas${+n + 1}`)\n    .attr('width', $(`#canvas${n}`).width())\n    .attr('height', $(`#canvas${n}`).width())\n    .insertAfter(`#canvas${n}`);\n  const originalContext = $(`#canvas${n}`)\n    .get(0)\n    .getContext('2d');\n  const imageData = originalContext.getImageData(\n    0,\n    0,\n    $(`#canvas${n}`).width(),\n    $(`#canvas${n}`).width()\n  );\n  const cloneContext = cloneWrapper.get(0).getContext('2d');\n  cloneContext.putImageData(imageData, 0, 0);\n}\n\nexport { copyCanvas, newCanvas, openCanvas };\n","import $ from 'jquery';\nimport { makeImage } from '../../screens/preview/preview';\nimport { openCanvas, newCanvas, copyCanvas } from './canvasManager';\n\n// show/hide frame buttons\nfunction hoverIn() {\n  const children = $(this).find('span');\n  if (children.hasClass('hidden')) {\n    children.removeClass('hidden');\n    if ($(this).is('#frame1')) {\n      $('#frame1')\n        .find('.removeFrame')\n        .addClass('hidden');\n    }\n  }\n}\nfunction hoverOut() {\n  const children = $(this).find('span');\n  if (!children.hasClass('hidden')) {\n    children.addClass('hidden');\n  }\n  if ($(this).is('#frame1')) {\n    $('#frame1')\n      .find('.copyFrame')\n      .addClass('hidden');\n  }\n}\n// update IDs after adding/removing elements\nfunction updateId() {\n  for (let i = 0; i < $('#frame-list').children().length; i += 1) {\n    $('#frame-list').children()[i].id = `frame${i + 1}`;\n    const child = $($('#frame-list').children()[i]);\n    child.find('.number').text(i + 1);\n    $('#canvas-area').children()[i].id = `canvas${i + 1}`;\n  }\n  for (let i = 0; i < $('.preview').children().length; i += 1) {\n    $('.preview').children()[i].id = `canvasImage${i + 1}`;\n  }\n}\n\nfunction removeFrame() {\n  // calculating target's ID\n  const num = $(this)\n    .parent()\n    .find('.number')\n    .text();\n  // remove all related elements\n  $(`#frame${num}`).remove();\n  $(`#canvasImage${num}`).remove();\n  $(`#canvas${num}`).remove();\n  updateId();\n  $(`#frame${+num - 1}`).click(); // make previous frame active\n}\n\nfunction copyFrame() {\n  // calculating target's ID\n  const num = $(this)\n    .parent()\n    .find('.number')\n    .text();\n  // cloning target frame\n  $(`#frame${num}`)\n    .clone()\n    .insertAfter(`#frame${num}`)\n    .attr('id', `frame${+num + 1}`)\n    .removeClass('activeFrame')\n    .hover(hoverIn, hoverOut)\n    .click(openCanvas);\n  // cloning target canvas image\n  copyCanvas(num);\n  // bind frame events\n  $(`#frame${+num + 1}`)\n    .find('.removeFrame')\n    .click(removeFrame);\n  $(`#frame${+num + 1}`)\n    .find('.copyFrame')\n    .click(copyFrame);\n  // make copied frame active\n  setTimeout(() => {\n    $(`#frame${+num + 1}`).click();\n  }, 100);\n  updateId();\n  // cloning target frame preview image\n  const dataURL = $(`#canvas${num}`)[0].toDataURL('image/png');\n  if (dataURL) {\n    $(`#frame${+num + 1}`)\n      .find('.preview-box')\n      .css({\n        background: `url(${dataURL})`,\n        'background-size': 'contain'\n      });\n  }\n  // update frame images and animation\n  for (let i = 0; i < $('#frame-list').children().length; i += 1) {\n    makeImage(i + 1);\n  }\n}\n\nfunction addNewFrame() {\n  const count = $('#frame-list').children().length + 1; // calc ID for new frame\n  $('.frame')\n    .first()\n    .clone()\n    .appendTo('#frame-list')\n    .attr('id', `frame${count}`)\n    .removeClass('activeFrame')\n    .hover(hoverIn, hoverOut)\n    .click(openCanvas)\n    .find('.preview-box')\n    .css({ background: 'none' }); // clear preview-box background from first frame\n  $('.number')\n    .last()\n    .text(count); // update number of frame\n  newCanvas(count);\n  $(`#frame${count}`)\n    .find('.removeFrame')\n    .click(removeFrame); // add event\n  $(`#frame${count}`)\n    .find('.copyFrame')\n    .click(copyFrame); // add event\n  setTimeout(() => {\n    $(`#frame${count}`).click(); // make new frame active\n  }, 100);\n}\n\nexport { hoverIn, hoverOut, addNewFrame, removeFrame, copyFrame };\n","import React from 'react';\nimport $ from 'jquery';\nimport './menu.css';\nimport store from '../../store/store';\n\nlet customWidth;\nlet fps;\nstore.subscribe(() => {\n  customWidth = store.getState().customWidth || 33;\n  fps = store.getState().fps || 3;\n});\n\nclass Options extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      fps: '',\n      customWidth: ''\n    };\n  }\n\n  componentDidMount() {\n    // calculating canvas resize options\n    $('#current-width').text(customWidth);\n    $('#current-height').text(customWidth);\n    $('#new-width').text($('#canvas1').width());\n    $('#resize-input').attr('max', `{${$('#canvas1').width()}}`);\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fpsOnChangeHandler() {\n    store.dispatch({ type: 'fps', value: $('#fps-bar').val() });\n    if (this.mounted) {\n      this.setState({ fps });\n    }\n  }\n\n  resizeCanvasOnClickHandler() {\n    if ($('#resize-input').val()) {\n      const inputVal = +$('#resize-input').val();\n      const maxSize = +$('#resize-input').attr('max');\n      if (inputVal > 0 && inputVal < maxSize) {\n        store.dispatch({ type: 'customWidth', value: $('#resize-input').val() });\n        if (this.mounted) {\n          this.setState({ customWidth });\n        }\n        $('#resize-input').val('');\n        $('#error-message').text('');\n      } else {\n        $('#error-message').text(\n          `Size can be from ${$('#resize-input').attr('min')} to ${$('#resize-input').attr(\n            'max'\n          )} px`\n        );\n        $('#resize-input').val('');\n      }\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"optionsBox\">\n        <div className=\"fps-options\">\n          <span id=\"display-fps\" className=\"display-fps\">\n            {`${this.state.fps ? this.state.fps : fps} FPS`}\n          </span>\n          <input\n            type=\"range\"\n            min=\"1\"\n            max=\"24\"\n            step=\"1\"\n            defaultValue={fps}\n            id=\"fps-bar\"\n            onChange={() => this.fpsOnChangeHandler()}\n          />\n        </div>\n        <div className=\"current-size\">\n          <span className=\"default-size bold\">current size</span>\n          <p>\n            {`Width `}\n            <span className=\"default-width bold\" id=\"current-width\">\n              {this.state.customWidth}\n            </span>\n            px\n          </p>\n          <p>\n            Height\n            <span className=\"default-width bold\" id=\"current-height\">\n              {this.state.customWidth}\n            </span>\n            px\n          </p>\n        </div>\n        <div className=\"resize-canvas\">\n          <span className=\"resize bold\">resize</span>\n          <p className=\"new-width-block\">\n            <span>1 - </span>\n            <span id=\"new-width\" className=\"canvas-width\" />\n            <span>px</span>\n            <input type=\"number\" className=\"resize-input\" id=\"resize-input\" min=\"1\" />\n          </p>\n          <p id=\"error-message\" className=\"error-message\" />\n          <button\n            id=\"resize-button\"\n            className=\"resize-button\"\n            type=\"button\"\n            onClick={() => this.resizeCanvasOnClickHandler()}\n          >\n            Change canvas size\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Options;\n","import React from 'react';\nimport './preview.css';\nimport { fullSizePreview } from './preview';\n\nclass Preview extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      active: ''\n    };\n    this.mounted = false;\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  hoverIn() {\n    if (this.mounted) {\n      this.setState({ active: true });\n    }\n  }\n\n  hoverOut() {\n    if (this.mounted) {\n      this.setState({ active: false });\n    }\n  }\n\n  render() {\n    return (\n      <div\n        id=\"preview-area\"\n        className=\"preview-area\"\n        onMouseEnter={() => this.hoverIn()}\n        onMouseLeave={() => this.hoverOut()}\n      >\n        <div\n          className={`preview-open ${this.state.active ? '' : 'hidden'}`}\n          id=\"preview-open\"\n          role=\"button\"\n          tabIndex=\"-1\"\n          onKeyPress={undefined}\n          onClick={fullSizePreview} // open animation in full size mode\n        >\n          <i className=\"fas fa-external-link-alt\" />\n        </div>\n        <div className=\"preview\" />\n      </div>\n    );\n  }\n}\n\nexport default Preview;\n","import React from 'react';\nimport Tools from '../../components/tools/toolsDomBuilder';\nimport Canvas from '../../screens/canvas/canvasDomBuilder';\nimport Frames from '../../components/frames-list/frameDomBuilder';\nimport Preview from '../../screens/preview/previewDomBuilder';\nimport Options from '../../components/menu/options';\n\nclass CreateAnimation extends React.Component {\n  constructor() {\n    super();\n    this.state = {};\n  }\n\n  render() {\n    return (\n      <div>\n        <div id=\"container\" className=\"container\">\n          <section className=\"tool-pannel\" id=\"tool-pannel\">\n            <Tools />\n          </section>\n          <section className=\"frame-area\" id=\"frame-area\">\n            <Frames />\n          </section>\n          <section className=\"canvas-area\" id=\"canvas-area\">\n            <Canvas />\n          </section>\n          <section className=\"preview-area noselect\" id=\"preview-area\">\n            <Preview />\n          </section>\n          <section className=\"options-area\" id=\"options-area\">\n            <Options />\n          </section>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default CreateAnimation;\n","import React from 'react';\n// import { Route, Link } from 'react-router-dom';\nimport './user.css';\nimport store from '../../store/store';\n\n// let name;\n// let img;\n// store.subscribe(() => {\n//   name = store.getState().name;\n//   img = store.getState().imageURL;\n//   console.log(name);\n// });\n\nclass User extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      name: '',\n      height: ''\n    };\n    this.mounted = false;\n  }\n\n  componentWillMount() {\n    this.setState({ height: window.innerHeight });\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    this.setState({ name: store.getState().name });\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  render() {\n    return (\n      <div className=\"user-page\" style={{ height: this.state.height - 110 }}>\n        <div\n          className=\"user-image\"\n          style={{\n            backgroundImage: `url(${store.getState().imageURL})`,\n            backgroundSize: 'contain'\n          }}\n        />\n        <h2 className=\"user-name\">{this.state.name}</h2>\n        <ul className=\"piskel-list\">\n          <li>all</li>\n          <li>public</li>\n          <li>private</li>\n          <li>deleted</li>\n        </ul>\n        <span>No piskel available in &#39;all&#39; category.</span>\n      </div>\n    );\n  }\n}\n\nexport default User;\n","import React from 'react';\nimport store from '../../store/store';\n\nclass About extends React.Component {\n  constructor() {\n    super();\n    this.state = {};\n  }\n\n  render() {\n    return (\n      <div className=\"homepage-section\">\n        <div className=\"home-about\">\n          <h1>\n            <span className=\"piskel\">Piskel-clone </span>\n            is a free online editor for animated sprites & pixel art\n          </h1>\n          <h2>Create animations in your browser.</h2>\n          <h2>\n            <span className=\"description\">Try an example</span>\n            {', use '}\n            <span\n              role=\"button\"\n              tabIndex=\"-1\"\n              onKeyPress={undefined}\n              className=\"description\"\n              onClick={() => store.dispatch({ type: 'currentPage', value: 'login' })}\n            >\n              Google sign in\n            </span>\n            {' to access your gallery or simply '}\n            <span\n              role=\"button\"\n              tabIndex=\"-1\"\n              onKeyPress={undefined}\n              className=\"description\"\n              onClick={() => store.dispatch({ type: 'currentPage', value: 'create' })}\n            >\n              create a new sprite.\n            </span>\n          </h2>\n          <div className=\"home-buttons\">\n            <button type=\"button\" className=\"login-button\">\n              <span\n                role=\"button\"\n                tabIndex=\"-1\"\n                onKeyPress={undefined}\n                className=\"link\"\n                onClick={() => store.dispatch({ type: 'currentPage', value: 'login' })}\n              >\n                Sign in\n              </span>\n            </button>\n            <button type=\"button\" className=\"create-button\">\n              <span\n                role=\"button\"\n                tabIndex=\"-1\"\n                onKeyPress={undefined}\n                className=\"link\"\n                onClick={() => store.dispatch({ type: 'currentPage', value: 'create' })}\n              >\n                Create Sprite\n              </span>\n            </button>\n          </div>\n        </div>\n\n        <div className=\"home-image\">\n          <div className=\"screen\" />\n          <div className=\"home-preview\" />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default About;\n","import React from 'react';\nimport { Redirect, Route, Link } from 'react-router-dom';\nimport './home.css';\nimport $ from 'jquery';\nimport CreateAnimation from './create/create';\nimport User from './user/user';\nimport About from './about/about';\nimport store from '../store/store';\n\nclass AppRouter extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      id: '',\n      name: '',\n      img: '',\n      redirected: false,\n      active: ''\n    };\n    this.onSuccess = this.onSuccess.bind(this);\n  }\n\n  componentDidMount() {\n    window.gapi.load('auth2', () => {\n      window.gapi.auth2\n        .init({\n          client_id: '717448332612-evijnpopt50fj6vp0d9iul50sgdout90.apps.googleusercontent.com'\n        })\n        .then(() => {\n          window.gapi.signin2.render('my-signIn', {\n            scope: 'profile email',\n            width: 240,\n            height: 37,\n            longtitle: true,\n            onsuccess: this.onSuccess,\n            onfailure: this.onFailure\n          });\n        });\n    });\n  }\n\n  onSuccess(googleUser) {\n    const profile = googleUser.getBasicProfile();\n    const ID = profile.getId();\n    const fullName = profile.getName();\n    const imageURL = profile.getImageUrl();\n\n    store.dispatch({ type: 'name', value: fullName });\n    this.setState({ id: ID, name: fullName, img: imageURL, redirected: true });\n  }\n\n  signOut() {\n    const auth2 = window.gapi.auth2.getAuthInstance();\n    auth2.signOut().then(() => {\n      this.setState({ redirected: false });\n    });\n  }\n\n  isRedirected() {\n    if (this.state.redirected === true) {\n      store.dispatch({ type: 'imageURL', value: this.state.img });\n      return <Redirect to={`/clown/piskel-clown/build/user/${this.state.id}`} />;\n    }\n    return <Redirect to=\"/clown/piskel-clown/build/\" />;\n  }\n\n  addActiveClass(e) {\n    const clicked = e.currentTarget.getAttribute('id');\n    if (this.state.active === clicked) {\n      this.setState({ active: '' });\n    } else {\n      this.setState({ active: clicked });\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <header className=\"header\">\n          <div className=\"header-menu\">\n            <span className=\"menu-icon\">\n              <i className=\"fas fa-bars\" />\n            </span>\n            <ul className=\"menu\">\n              <li className=\"homepage\">\n                <Link\n                  to=\"/clown/piskel-clown/build/\"\n                  className=\"task-name\"\n                  onClick={() => {\n                    store.dispatch({ type: 'currentPage', value: 'about' });\n                    $(document.body).css({ cursor: 'default' });\n                  }}\n                >\n                  Piskel-clone\n                </Link>\n              </li>\n              <li className=\"create menu-item\">\n                <Link\n                  to=\"/clown/piskel-clown/build/create-animation/\"\n                  className=\"create-link\"\n                  onClick={() => {\n                    store.dispatch({ type: 'currentPage', value: 'create' });\n                    $(document.body).css({ cursor: 'default' });\n                  }}\n                >\n                  Create Animation\n                </Link>\n              </li>\n              <li className=\"signin\">\n                <div\n                  className={`menu-item ${this.state.redirected === true ? 'account' : 'hidden'}`}\n                  id=\"list\"\n                  role=\"button\"\n                  tabIndex=\"-1\"\n                  onKeyPress={undefined}\n                  onClick={e => {\n                    this.addActiveClass(e);\n                  }}\n                >\n                  <div\n                    className=\"account-image\"\n                    style={{\n                      backgroundImage: `url(${this.state.img})`,\n                      backgroundSize: 'contain'\n                    }}\n                  />\n                  <span className=\"account-button\">{this.state.name}</span>\n                  <i className=\"fas fa-sort-down\" />\n                  <ul className={`dropdown ${this.state.active === 'list' ? 'active' : 'hidden'}`}>\n                    <li className={`list top ${this.state.active === 'list' ? '' : 'hidden'}`}>\n                      <Link\n                        to={`/clown/piskel-clown/build/user/${this.state.id}`}\n                        id=\"galery\"\n                        className=\"account-item\"\n                      >\n                        My Galery\n                      </Link>\n                    </li>\n                    <li className={`list bottom ${this.state.active === 'list' ? '' : 'hidden'}`}>\n                      <Link\n                        to=\"/clown/piskel-clown/build/\"\n                        id=\"logout\"\n                        className=\"account-item\"\n                        onClick={() => this.signOut()}\n                      >\n                        Log out\n                      </Link>\n                    </li>\n                  </ul>\n                </div>\n                {this.isRedirected()}\n                <div\n                  id=\"my-signIn\"\n                  className={`${this.state.redirected === true ? 'hidden' : 'shown'}`}\n                />\n              </li>\n            </ul>\n          </div>\n        </header>\n        <Route path=\"/clown/piskel-clown/build/\" exact component={About} />\n        <Route path={`/clown/piskel-clown/build/user/${this.state.id}`} component={User} />\n        <Route path=\"/clown/piskel-clown/build/create-animation/\" component={CreateAnimation} />\n      </div>\n    );\n  }\n}\n\nexport default AppRouter;\n","/* eslint-disable no-param-reassign */\n/* eslint-disable no-console */\n/* eslint-disable no-use-before-define */\n// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport './index.css';\nimport AppRouter from './homepage/home';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <Router>\n    <AppRouter />\n  </Router>,\n  document.getElementById('home-page')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}