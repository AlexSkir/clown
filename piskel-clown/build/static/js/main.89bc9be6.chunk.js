(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,,,,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAAAOdJREFUOI3t0zErhWEUAOCnK9Pd76a4kjALGQ0+1ySrwXgXg9WPMBjFYJMSZTGom1kppJj9BBYZGL4zfG4ZvnPv6Cxv5z29T+e8dUbkYxK72EATL/huJLEC54FcoYNTpLwC79jpuz+Jbmtjd2ijh61KrYP9DNaKfAFfFXQbe1lsDg+Yx61y/HuMDYLNRN5W/mkxDKwV9TT2iNl/7M9YGybWxAcuMR3YU5y1MVjHIVZwg7dBMDjwe7F7mMpi8IrFSr6Kiyw2gWflBixhE0dqrFM1GtHNJ0ZxjGWcKce9rguKLroYzzzujx/AVUNl5zj/7wAAAABJRU5ErkJggg=="},,,function(e,t,a){},,,,,,,,,,,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADCSURBVDhP7dAxCwFhGMDxh00Gk4nBYDAZFIvNJ/BBDOwGiUlJklAWPov4FqSUDEqUSfyf91zdqTuv3b9+3fte3b13j1hUwxpLJPWGTRHE0cLTYw6rGtjC+7BawVf0ff0sgYyz9GX1BW3cUMUG7un6O1/r4YKy2Ynk8cAeMb0RVhdnFM1OJIsdFqhDBxtYBXeUzE4khwMmCJqTrzGmzlIKOGKA0FPdUjihgz6uaMK6IXTK+pIZ3AFap9MdIW12/35M5AUsFCcIOdPfYQAAAABJRU5ErkJggg=="},,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAEdSURBVEhL3dU/a8JAHMbxIChYlQ52aIeCU6Gbk2+hXcV306lDofSttIvuQsGhk4uLIIiCVVF0KxQ6td9HchDkvDvSdKgPfCC55H4PJP6Jjj4tPKOwO8s4ZSzxjTb+pKSODVTSwf8sKeIVKsi85ARdaPAa2/g4k5IKetBAvexr6HFlUnKKN2jQDFcw+fU7qaIPDZighv2kLjnDANo4wiUOJVXJC7RhiAsteJIsudeCK3l84RPnWghMAyqY7s4cyeEDujkNb4HyBNvmEN5HpOhF6YfNNsDFvORmzBndqA22QTZmeAnzmI6dCS1JfjzvYNZ17I2vJDlcGcNc03FQDpXY/oDeYa7r5yU4+n48YIEVHrE/XLmFBsuNFo4hUfQDRmuR/2vYwfIAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAAAWZJREFUOI2t0jFI1VEUx/FPGjlki9ai0CQIDQ5pCqbNTxJdykGdWmxxsUAHXYJwqMVBNHVzKWh2EAdBTDCQFhWKrMW2aFTiyXO4f+GP/u//8dQfHLiXe+73nvs7h2tWdYX5PZhDF6rwCyeXffwZVtCIZkxgHe9wv1LYIJZwM+OsDbOYjpxf0BBmcCMnpxa/0VEONoz5MrB7+IgDwdeoBgXDh3NymvAZvXiVB3uOIkpJ7OE1GlI5rVhFndD5OzFYAf9TsHScYAMfsIl6PBA6nqlW/IvAzmIL+7greLuI21mwGvzENhawjL8pUBHvsYPu5M5bPI5VN3qukgNMYQCTQpP2EiCM4WkMVoPDyBeLaE8eKGEcL9EXg8FIBHbWiBep/Tf058Gq8D0H+AWfkvWxMHO5epIDKwnGHyVRKAerxp/kYhtuZeR8xcOksrVywLTqBMN/pKrbFQa4sxJQlh7hjTCLLVeFXUmnRmtxEV/Efn8AAAAASUVORK5CYII="},,,function(e,t,a){e.exports=a(58)},,,,,function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(27),r=a.n(c),s=a(9),i=(a(39),a(2)),l=a(3),u=a(5),d=a(4),m=a(18),v=a(6),h=a(12),f=(a(40),a(1)),p=a.n(f),g=(a(17),a(28)),b=a.n(g),y=a(13);var w=Object(y.a)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"gif":return Object.assign({},e,{gif:t.value});case"frames":return Object.assign({},e,{frames:t.value});case"piskelID":return Object.assign({},e,{piskelID:t.value});default:return e}}),k=Object(y.a)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"currentPage":return Object.assign({},e,{currentPage:t.value});case"currentColor":return Object.assign({},e,{currentColor:t.value});case"backColor":return Object.assign({},e,{backColor:t.value});case"currentTool":return Object.assign({},e,{currentTool:t.value});case"fps":return Object.assign({},e,{fps:t.value});case"customWidth":return Object.assign({},e,{customWidth:t.value});default:return e}}),E=Object(y.a)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"setBg":return Object.assign({},e,{setBg:t.value});case"title":return Object.assign({},e,{title:t.value});default:return e}}),N=Object(y.a)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"currentCanvas":return Object.assign({},e,{currentCanvas:t.value});default:return e}}),C=Object(y.a)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"name":return Object.assign({},e,{name:t.value});case"imageURL":return Object.assign({},e,{imageURL:t.value});default:return e}}),A=Object(y.a)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"optionsBlock":return Object.assign({},e,{optionsBlock:t.value});default:return e}}),O=Object(y.a)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"addColor":return Object.assign({},e,{addColor:t.value});default:return e}});function S(e){var t=p()("#".concat(e)).val(),a="rgb(".concat(p()("#".concat(e)).val().match(/[A-Za-z0-9]{2}/g).map(function(e){return parseInt(e,16)}).join(", "),")");"customed1"===e&&(k.dispatch({type:"currentColor",value:a}),p()("#currentColor").css({"background-color":a})),"customed2"===e&&(k.dispatch({type:"backColor",value:a}),p()("#backColor").css({"background-color":a})),p()("#".concat(e)).attr("value",t)}var I=a(30),x=a.n(I);var j=a(14),T=a.n(j);var M,B,D,F,U=a(31),z=a.n(U);k.subscribe(function(){M=k.getState().currentTool,B=k.getState().currentColor,D=k.getState().backColor}),N.subscribe(function(){F=N.getState().currentCanvas});var L=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).state={tool:"",active:"",value1:"#161030",value2:"#c0c0c0",pickedColor:""},e.mounted=!1,e}return Object(v.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){var e=this;p()(document).click(function(t){return e.colorPickerHandleClick(t)})}},{key:"componentDidMount",value:function(){var e=p()("#currentColor").css("background-color"),t=p()("#backColor").css("background-color");k.dispatch({type:"currentColor",value:e}),k.dispatch({type:"backColor",value:t}),this.mounted=!0,!0===this.mounted&&this.setState({pickedColor:e})}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"switchColorsOnClick",value:function(){k.dispatch({type:"currentColor",value:D}),k.dispatch({type:"backColor",value:this.state.pickedColor});var e=p()("#customed1").val(),t=p()("#customed2").val();p()("#currentColor").css({"background-color":B}),p()("#backColor").css({"background-color":D}),this.setState({value1:t,value2:e,pickedColor:B})}},{key:"colorPickerHandleClick",value:function(e){if("colorPickerTool"===this.state.tool&&p()(e.target).is(".canvas")){var t=document.querySelector("#canvas".concat(F)),a=t.getBoundingClientRect(),n=Math.round(e.clientX-a.left),o=Math.round(e.clientY-a.top),c=t.getContext("2d").getImageData(n,o,1,1).data,r="rgba(".concat(c[0],", ").concat(c[1],", ").concat(c[2],")");if(c[3]>0){var s=function(e,t,a){var n=e.toString(16),o=t.toString(16),c=a.toString(16);return n.length<2&&(n="0".concat(n)),o.length<2&&(o="0".concat(o)),c.length<2&&(c="0".concat(c)),"#".concat(n).concat(o).concat(c)}(c[0],c[1],c[2]);k.dispatch({type:"currentColor",value:r}),p()("#currentColor").css({"background-color":r}),this.setState({value1:s,pickedColor:r})}}}},{key:"buttonOnHoverIn",value:function(e){var t=p()(e.target).attr("id");this.mounted&&this.setState({active:t})}},{key:"buttonOnHoverOut",value:function(e){p()(e.target).children().removeClass("fas-hovered"),this.mounted&&this.setState({active:"false"})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{name:"Tools"},o.a.createElement("div",{className:"palette",id:"palette-tool-area"},o.a.createElement("div",{className:"palette-block"},o.a.createElement("button",{id:"paint-bucket",className:"palette-button",type:"button",onMouseEnter:function(t){return e.buttonOnHoverIn(t)},onMouseLeave:function(t){return e.buttonOnHoverOut(t)},onClick:function(){"paintBucketTool"!==k.getState().currentTool?(p()("#palette-tool-area").find("button").removeClass("hovered"),p()("#paint-bucket").addClass("hovered"),k.dispatch({type:"currentTool",value:"paintBucketTool"}),p()("#paint-bucket").focus(),p()(document.body).css({cursor:"url(".concat(x.a,") 15 15, auto")})):"paintBucketTool"===k.getState().currentTool&&(k.dispatch({type:"currentTool",value:""}),p()("#paint-bucket").removeClass("hovered"),p()("#paint-bucket").blur(),p()(document.body).css({cursor:"default"})),e.mounted&&e.setState({tool:M})}},o.a.createElement("i",{className:"fas fa-fill-drip ".concat("paint-bucket"===this.state.active?"fas-hovered":"")}))),o.a.createElement("div",{className:"palette-block"},o.a.createElement("button",{id:"color-picker",className:"palette-button",type:"button",onMouseEnter:function(t){return e.buttonOnHoverIn(t)},onMouseLeave:function(t){return e.buttonOnHoverOut(t)},onClick:function(){"colorPickerTool"!==k.getState().currentTool?(p()("#palette-tool-area").find("button").removeClass("hovered"),p()("#color-picker").addClass("hovered"),k.dispatch({type:"currentTool",value:"colorPickerTool"}),p()("#color-picker").focus(),p()(document.body).css({cursor:"url(".concat(b.a,") 1 10, auto")})):"colorPickerTool"===k.getState().currentTool&&(k.dispatch({type:"currentTool",value:"none"}),p()("#color-picker").removeClass("hovered"),p()("#color-picker").blur(),p()(document.body).css({cursor:"default"})),e.mounted&&e.setState({tool:M})}},o.a.createElement("i",{className:"fas fa-eye-dropper ".concat("color-picker"===this.state.active?"fas-hovered":"")}))),o.a.createElement("div",{className:"palette-block"},o.a.createElement("button",{id:"pen",className:"palette-button",type:"button",onMouseEnter:function(t){return e.buttonOnHoverIn(t)},onMouseLeave:function(t){return e.buttonOnHoverOut(t)},onClick:function(){"penTool"!==k.getState().currentTool?(p()("#palette-tool-area").find("button").removeClass("hovered"),k.dispatch({type:"currentTool",value:"penTool"}),p()("#pen").addClass("hovered"),p()("#pen").focus(),p()(document.body).css({cursor:"url(".concat(T.a,") 1 18, auto")})):"penTool"===k.getState().currentTool&&(k.dispatch({type:"currentTool",value:""}),p()("#pen").removeClass("hovered"),p()("#pen").blur(),p()(document.body).css({cursor:"default"})),e.mounted&&e.setState({tool:M})}},o.a.createElement("i",{className:"fas fa-pencil-alt ".concat("pen"===this.state.active?"fas-hovered":"")}))),o.a.createElement("div",{className:"palette-block"},o.a.createElement("button",{id:"eraser",className:"palette-button",type:"button",onMouseEnter:function(t){return e.buttonOnHoverIn(t)},onMouseLeave:function(t){return e.buttonOnHoverOut(t)},onClick:function(){"eraserTool"!==k.getState().currentTool?(k.dispatch({type:"currentTool",value:"eraserTool"}),p()("#palette-tool-area").find("button").removeClass("hovered"),p()("#eraser").addClass("hovered"),p()("#eraser").focus(),p()(document.body).css({cursor:"url(".concat(z.a,") 1 18, auto")})):"eraserTool"===k.getState().currentTool&&(k.dispatch({type:"currentTool",value:""}),p()("#eraser").removeClass("hovered"),p()("#eraser").blur(),p()(document.body).css({cursor:"default"})),e.mounted&&e.setState({tool:M})}},o.a.createElement("i",{className:"fas fa-eraser ".concat("eraser"===this.state.active?"fas-hovered":"")}))),o.a.createElement("div",{className:"palette-block"},o.a.createElement("button",{id:"stroke",className:"palette-button",type:"button",onMouseEnter:function(t){return e.buttonOnHoverIn(t)},onMouseLeave:function(t){return e.buttonOnHoverOut(t)},onClick:function(){"strokeTool"!==k.getState().currentTool?(k.dispatch({type:"currentTool",value:"strokeTool"}),p()("#palette-tool-area").find("button").removeClass("hovered"),p()("#stroke").addClass("hovered"),p()("#stroke").focus(),p()(document.body).css({cursor:"url(".concat(T.a,") 1 18, auto")})):"strokeTool"===k.getState().currentTool&&(k.dispatch({type:"currentTool",value:""}),p()("#stroke").removeClass("hovered"),p()("#stroke").blur(),p()(document.body).css({cursor:"default"})),e.mounted&&e.setState({tool:M})}},o.a.createElement("i",{className:"fas fa-slash ".concat("stroke"===this.state.active?"fas-hovered":"")}))),o.a.createElement("div",{className:"palette-block"},o.a.createElement("button",{id:"rectangle",className:"palette-button",type:"button",onMouseEnter:function(t){return e.buttonOnHoverIn(t)},onMouseLeave:function(t){return e.buttonOnHoverOut(t)},onClick:function(){"rectangleTool"!==k.getState().currentTool?(k.dispatch({type:"currentTool",value:"rectangleTool"}),p()("#palette-tool-area").find("button").removeClass("hovered"),p()("#rectangle").addClass("hovered"),p()("#rectangle").focus(),p()(document.body).css({cursor:"url(".concat(T.a,") 1 18, auto")})):"rectangleTool"===k.getState().currentTool&&(k.dispatch({type:"currentTool",value:""}),p()("#rectangle").removeClass("hovered"),p()("#rectangle").blur(),p()(document.body).css({cursor:"default"})),e.mounted&&e.setState({tool:M})}},o.a.createElement("i",{className:"far fa-square ".concat("rectangle"===this.state.active?"fas-hovered":"")}))),o.a.createElement("div",{className:"palette-block"},o.a.createElement("button",{id:"circle",className:"palette-button",type:"button",onMouseEnter:function(t){return e.buttonOnHoverIn(t)},onMouseLeave:function(t){return e.buttonOnHoverOut(t)},onClick:function(){"circleTool"!==k.getState().currentTool?(k.dispatch({type:"currentTool",value:"circleTool"}),p()("#palette-tool-area").find("button").removeClass("hovered"),p()("#circle").addClass("hovered"),p()("#circle").focus(),p()(document.body).css({cursor:"url(".concat(T.a,") 1 18, auto")})):"circleTool"===k.getState().currentTool&&(k.dispatch({type:"currentTool",value:""}),p()("#circle").removeClass("hovered"),p()("#circle").blur(),p()(document.body).css({cursor:"default"})),e.mounted&&e.setState({tool:M})}},o.a.createElement("i",{className:"far fa-circle ".concat("circle"===this.state.active?"fas-hovered":"")})))),o.a.createElement("div",{className:"color"},o.a.createElement("div",{className:"color-block hidden"},o.a.createElement("div",{className:"radiobutton current",id:"currentColor"}),o.a.createElement("div",{className:"radiobutton back",id:"backColor"}),o.a.createElement("button",{type:"button",id:"switchHexValue",onClick:function(){var t=function(e){var t="".concat(e),a=/(.*?)rgb\((\d+),\s*(\d+),\s*(\d+)\)/i.exec(t),n=parseInt(a[2],10).toString(16),o=parseInt(a[3],10).toString(16),c=parseInt(a[4],10).toString(16);return"#".concat(1===n.length?"0".concat(n):n).concat(1===o.length?"0".concat(o):o).concat(1===c.length?"0".concat(c):c)}(B);e.setState({value1:t})}})),o.a.createElement("div",{className:"switcher",role:"button",onClick:function(){return e.switchColorsOnClick()},onFocus:function(){},onKeyPress:function(){},tabIndex:"-1"},o.a.createElement("i",{className:"fas fa-retweet"})),o.a.createElement("div",{className:"color-block-upper"},o.a.createElement("input",{type:"color",name:"colors",className:"input-color",id:"customed1",value:this.state.value1,onChange:function(){S("customed1"),e.setState({value1:p()("#customed1").val(),pickedColor:B})}})),o.a.createElement("div",{className:"color-block-under"},o.a.createElement("input",{type:"color",name:"colors",className:"input-color",id:"customed2",value:this.state.value2,onChange:function(){S("customed2"),e.setState({value2:p()("#customed2").val()})}}))))}}]),t}(o.a.Component),H=window.innerWidth-450<window.innerHeight-155?window.innerWidth-450:window.innerHeight-155;p()(window).bind("resize",function(){for(var e=0;e<p()(".canvas-area").children().length;e+=1){var t=p()("#canvas".concat(e+1)).get(0).getContext("2d").getImageData(0,0,H,H),a=window.innerWidth-450<window.innerHeight-155?window.innerWidth-450:window.innerHeight-155;p()("#canvas".concat(e+1)).attr("width",a).attr("height",a),p()("#canvas".concat(e+1)).get(0).getContext("2d").putImageData(t,0,0)}p()("#new-width").text(p()("#canvas1").width()),p()("#resize-input").attr("max",p()("#canvas1").width())});var R,P,W,Y,G,K,V;a(42);function J(e){var t=p()("#canvas".concat(R)).get(0).getContext("2d");Y=e.offsetX,G=e.offsetY,"penTool"===W?(t.fillStyle=p()("#currentColor").css("background-color"),t.strokeStyle=p()("#currentColor").css("background-color")):"eraserTool"===W&&(t.fillStyle="rgba(0, 0, 0, 1)",t.strokeStyle="rgba(0, 0, 0, 1)");var a=Math.ceil(p()("#canvas".concat(R)).width()/P),n=Math.floor(e.offsetX/a)*a,o=Math.floor(e.offsetY/a)*a;K>Y||V>G?t.fillRect(n,o,a,a):(K+a<Y||V+a<G)&&t.fillRect(n,o,a,a)}function Q(e){var t=Math.ceil(p()("#canvas".concat(R)).width()/P);if(K=Math.floor(e.offsetX/t)*t,V=Math.floor(e.offsetY/t)*t,"penTool"===W||"eraserTool"===W){var a=p()("#canvas".concat(R)).get(0).getContext("2d");"penTool"===W?(a.globalCompositeOperation="source-over",a.fillStyle=p()("#currentColor").css("background-color"),a.strokeStyle=p()("#currentColor").css("background-color")):"eraserTool"===W&&(a.fillStyle="rgba(0, 0, 0, 1)",a.strokeStyle="rgba(0, 0, 0, 1)",a.globalCompositeOperation="destination-out"),a.fillRect(K,V,t,t),p()("#drawCanvas").mousemove(J),O.dispatch({type:"addColor",value:p()("#currentColor").css("background-color")}),p()("#addColorButton").click()}}N.subscribe(function(){R=N.getState().currentCanvas}),k.subscribe(function(){P=k.getState().customWidth||33,W=k.getState().currentTool});var Z,X,q,$,_=0,ee=0,te=0,ae=0;function ne(e){var t=Math.ceil(p()("#canvas".concat(R)).width()/P),a=p()("#drawCanvas").get(0).getContext("2d"),n=p()("#drawCanvas").width();te=e.pageX-this.offsetLeft,ae=e.pageY-this.offsetTop,a.clearRect(0,0,n,n),a.globalCompositeOperation="source-over",a.strokeStyle=p()("#currentColor").css("background-color"),a.lineWidth=t,a.beginPath(),"strokeTool"===W?(a.moveTo(_,ee),a.lineTo(te,ae),a.stroke()):"rectangleTool"===W?(a.moveTo(_,ee),a.lineTo(te,ee),a.lineTo(te,ae),a.lineTo(_,ae),a.lineTo(_,ee),a.stroke()):"circleTool"===W&&(Z=Math.sqrt((_-te)*(_-te)+(ee-ae)*(ee-ae))/2,a.arc(_,ee,Z,0,2*Math.PI),a.stroke()),p()("#drawCanvas").mouseup(function(){t=Math.ceil(p()("#canvas".concat(R)).width()/P);var e=p()("#canvas".concat(R)).get(0).getContext("2d");e.globalCompositeOperation="source-over",e.strokeStyle=p()("#currentColor").css("background-color"),e.lineWidth=t,e.beginPath(),"strokeTool"===W?(e.moveTo(_,ee),e.lineTo(te,ae),e.stroke(),a.clearRect(0,0,n,n)):"rectangleTool"===W?(e.moveTo(_,ee),e.lineTo(te,ee),e.lineTo(te,ae),e.lineTo(_,ae),e.lineTo(_,ee),e.stroke(),a.clearRect(0,0,n,n)):"circleTool"===W&&(e.arc(_,ee,Z,0,2*Math.PI),e.stroke(),a.clearRect(0,0,n,n))})}function oe(e){_=e.pageX-this.offsetLeft,ee=e.pageY-this.offsetTop,p()("#drawCanvas").mousemove(ne)}function ce(e,t,a){var n=e.width,o=e.data;return{r:o[4*(n*a+t)+0],g:o[4*(n*a+t)+1],b:o[4*(n*a+t)+2],a:o[4*(n*a+t)+3]}}function re(e,t,a,n){var o=e.width,c=e.data;c[4*(o*n+a)+0]=t.r,c[4*(o*n+a)+1]=t.g,c[4*(o*n+a)+2]=t.b,c[4*(o*n+a)+3]=t.a}function se(e,t){return e.r===t.r&&e.g===t.g&&e.b===t.b&&e.a===t.a}function ie(e){if("paintBucketTool"===q){var t=document.querySelector("#canvas".concat(X)),a=t.getContext("2d"),n=p()("#currentColor").css("background-color"),o=n.match(/([0-9]+\.?[0-9]*)/g),c={r:+o[0],g:+o[1],b:+o[2],a:255};a.fillStyle=n,a.strokeStyle=n;var r=t.getBoundingClientRect(),s=Math.round(e.clientX-r.left),i=Math.round(e.clientY-r.top),l=a.getImageData(0,0,t.width,t.height);!function(e,t,a,n){var o=e.width,c=e.height,r=[],s=ce(e,a,n),i={x:a,y:n};if(!se(s,t))for(r.push({x:i.x,y:i.y});r.length;){i=r.pop();for(var l=!0,u=!0,d=!1,m=!1;u&&i.y>=0;)i.y-=1,u=se(ce(e,i.x,i.y),s);for(;l&&i.y<c;)re(e,t,i.x,i.y),i.x-1>=0&&se(ce(e,i.x-1,i.y),s)?d||(d=!0,r.push({x:i.x-1,y:i.y})):d=!1,i.x+1<o&&se(ce(e,i.x+1,i.y),s)?m||(r.push({x:i.x+1,y:i.y}),m=!0):m=!1,i.y+=1,l=se(ce(e,i.x,i.y),s)}}(l,c,s,i),a.putImageData(l,0,0),O.dispatch({type:"addColor",value:p()("#currentColor").css("background-color")}),p()("#addColorButton").click();var u=p()("#canvas".concat(X))[0].toDataURL("image/png");p()("#frame".concat(X)).find(".preview-box").css({background:"url(".concat(u,")"),"background-size":"contain"})}}N.subscribe(function(){X=N.getState().currentCanvas}),k.subscribe(function(){q=k.getState().currentTool}),k.subscribe(function(){$=k.getState().fps||3});var le,ue,de=0;function me(){clearTimeout(le);var e=1e3/$;p()(".preview").children().css({display:"none"}),p()(".preview").children()[de]&&(p()(".preview").children()[de].style.display="block"),(de+=1)===p()(".preview").children().length&&(de=0),le=setTimeout(me,e)}function ve(e){var t=new Image;p()("#canvas".concat(e))[0]&&p()(t).attr("id","canvasImage".concat(e)).css({width:"100%"}).attr("src",p()("#canvas".concat(e))[0].toDataURL("image/png")),p()("#canvasImage".concat(e)).length?p()(t).insertBefore("#canvasImage".concat(e)).next().remove():p()(t).appendTo(".preview"),p()(".preview").children().length>1?(de=0,me()):clearTimeout(le)}var he,fe=0;function pe(){ue&&(fe+=1,ue.close()),ue=window.open("about:blank","window".concat(fe),"width=300,height=300");var e=p()(".preview").clone().appendTo(ue.document.body).css({display:"flex","justify-content":"center","align-items":"center",height:"100%"});p()(ue.document.body).css({display:"flex","justify-content":"center","align-items":"center"});var t=$,a=0;p()(ue).ready(function n(){var o=1e3/t;e.children().css({display:"none"}),e.children()[a]&&(e.children()[a].style.display="block"),(a+=1)===e.children().length&&(a=0),setTimeout(n,o)})}N.subscribe(function(){he=N.getState().currentCanvas});var ge,be=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).state={size:""},e.mounted=!1,e}return Object(v.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=window.innerWidth-450<window.innerHeight-155?window.innerWidth-450:window.innerHeight-155;this.setState({size:t}),p()(document).click(function(){return e.penHandleClick()})}},{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"penHandleClick",value:function(){this.mounted=!0,p()("#drawCanvas").unbind("mousedown").unbind("mouseup").unbind("click"),p()("#drawCanvas").click(ie),p()("#drawCanvas").mousedown(Q),p()("#drawCanvas").mousedown(oe),p()("#drawCanvas").mouseup(function(){p()("#drawCanvas").off("mousemove");var e=p()("#canvas".concat(he))[0].toDataURL("image/png");p()("#frame".concat(he)).find(".preview-box").css({background:"url(".concat(e,")"),"background-size":"contain"}),setTimeout(function(){ve(he)},500)})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{id:"canvas-block",className:"canvas-block"},o.a.createElement("canvas",{id:"canvas1",className:"canvas hidden",width:this.state.size,height:this.state.size})),o.a.createElement("canvas",{id:"drawCanvas",className:"drawCanvas",width:this.state.size,height:this.state.size}))}}]),t}(o.a.Component);a(43),a(44);function ye(){var e=p()(this).find(".number").text();N.dispatch({type:"currentCanvas",value:+e}),p()(".canvas").addClass("hidden"),p()("#canvas".concat(e)).removeClass("hidden"),p()(".activeFrame")&&p()(".activeFrame").removeClass("activeFrame"),p()(this).toggleClass("activeFrame"),setTimeout(function(){ve(+e)},200)}function we(e){return p()("#canvas".concat(e)).get(0).getContext("2d").getImageData(0,0,p()("#canvas".concat(e)).width(),p()("#canvas".concat(e)).width())}function ke(e,t){p()("#canvas".concat(e)).get(0).getContext("2d").putImageData(t,0,0)}function Ee(){var e=p()(this).find("span");e.hasClass("minorZ")&&(e.removeClass("minorZ"),1===p()("#sortable").children().length&&(p()("#frame1").find(".removeFrame").addClass("minorZ"),p()("#frame1").find(".dragFrame").addClass("minorZ")))}function Ne(){var e=p()(this).find("span");e.hasClass("minorZ")||e.addClass("minorZ"),1===p()("#sortable").children().length&&(p()("#frame1").find(".copyFrame").addClass("minorZ"),p()("#frame1").find(".dragFrame").addClass("minorZ"))}function Ce(){for(var e=0;e<p()("#sortable").children().length;e+=1){p()("#sortable").children()[e].id="frame".concat(e+1),p()(p()("#sortable").children()[e]).find(".number").text(e+1),ve(e+1)}for(var t=0;t<p()("#canvas-block").children().length;t+=1)p()("#canvas-block").children()[t].id="canvas".concat(t+1);for(var a=0;a<p()(".preview").children().length;a+=1)p()(".preview").children()[a].id="canvasImage".concat(a+1)}function Ae(){p()("#sortable").sortable(),p()("#sortable").sortable("option","disabled",!1),p()("#sortable").disableSelection()}function Oe(e){p()("#sortable").sortable("option","disabled",!0),setTimeout(function(){var t=p()(e.currentTarget).parent().find(".number").text();Ce();var a=p()(e.currentTarget).parent().find(".number").text();p()(e.currentTarget).parent().click();var n=we(t);ke(t,we(a)),ke(a,n),Ce()},200)}function Se(){var e=p()(this).parent().find(".number").text();p()("#frame".concat(e)).remove(),p()("#canvasImage".concat(e)).remove(),p()("#canvas".concat(e)).remove(),Ce(),p()("#frame".concat(+e-1)).click()}function Ie(){var e=p()(this).parent().find(".number").text();p()("#frame".concat(e)).clone().insertAfter("#frame".concat(e)).attr("id","frame".concat(+e+1)).removeClass("activeFrame").hover(Ee,Ne).click(ye),function(e){var t=p()("#canvas".concat(e)).clone().attr("id","canvas".concat(+e+1)).attr("width",p()("#canvas".concat(e)).width()).attr("height",p()("#canvas".concat(e)).width()).insertAfter("#canvas".concat(e)),a=p()("#canvas".concat(e)).get(0).getContext("2d").getImageData(0,0,p()("#canvas".concat(e)).width(),p()("#canvas".concat(e)).width());t.get(0).getContext("2d").putImageData(a,0,0)}(e),p()("#frame".concat(+e+1)).find(".removeFrame").click(Se),p()("#frame".concat(+e+1)).find(".copyFrame").click(Ie),p()("#frame".concat(+e+1)).find(".dragFrame").mousedown(Ae).mouseup(Oe),setTimeout(function(){p()("#frame".concat(+e+1)).click()},100),Ce();var t=p()("#canvas".concat(e))[0].toDataURL("image/png");t&&p()("#frame".concat(+e+1)).find(".preview-box").css({background:"url(".concat(t,")"),"background-size":"contain"});for(var a=0;a<p()(".frame-list").children().length;a+=1)ve(a+1)}function xe(){var e=p()(".frame-list").children().length+1;p()(".frame").first().clone().appendTo(".frame-list").attr("id","frame".concat(e)).removeClass("activeFrame").hover(Ee,Ne).click(ye).find(".preview-box").css({background:"none"}),p()(".number").last().text(e),function(e){var t=window.innerWidth-450<window.innerHeight-155?window.innerWidth-450:window.innerHeight-155;p()("<canvas/>",{class:"canvas hidden",id:"canvas".concat(e)}).attr("width",t).attr("height",t).appendTo(".canvas-area")}(e),p()("#frame".concat(e)).find(".removeFrame").click(Se),p()("#frame".concat(e)).find(".copyFrame").click(Ie),p()("#frame".concat(e)).find(".dragFrame").mousedown(Ae).mouseup(Oe),setTimeout(function(){p()("#frame".concat(e)).click()},100)}k.subscribe(function(){ge=k.getState().customWidth});var je,Te=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).state={},e}return Object(v.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){p()(".frame").hover(Ee,Ne).click(ye),p()(".removeFrame").click(Se),p()(".copyFrame").click(Ie),p()(".dragFrame").mousedown(Ae).mouseup(Oe),p()("#frame1").click(ye).click(),p()("#current-width").text(ge),p()("#current-height").text(ge),p()("#new-width").text(p()("#canvas1").width()),p()("#resize-input").attr("max",p()("#canvas1").width())}},{key:"render",value:function(){return o.a.createElement("div",{className:"frame-box"},o.a.createElement("ul",{id:"sortable",className:"frame-list"},o.a.createElement("li",{className:"ui-state-default frame activeFrame",id:"frame1"},o.a.createElement("p",{id:"preview-box",className:"preview-box"}),o.a.createElement("title",{className:"number"},"1"),o.a.createElement("span",{className:"removeFrame minorZ"},o.a.createElement("i",{className:"fas fa-trash-alt"})),o.a.createElement("span",{className:"dragFrame minorZ"},o.a.createElement("i",{className:"fas fa-arrows-alt"})),o.a.createElement("span",{className:"copyFrame minorZ"},o.a.createElement("i",{className:"fas fa-copy"})))),o.a.createElement("button",{className:"addNewFrame",onClick:xe,type:"button"},"Add new frame"))}}]),t}(o.a.Component),Me=(a(45),function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).state={active:""},e.mounted=!1,e}return Object(v.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"hoverIn",value:function(){this.mounted&&this.setState({active:!0})}},{key:"hoverOut",value:function(){this.mounted&&this.setState({active:!1})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{id:"preview-area",className:"preview-area",onMouseEnter:function(){return e.hoverIn()},onMouseLeave:function(){return e.hoverOut()}},o.a.createElement("div",{className:"preview-open ".concat(this.state.active?"":"hidden"),id:"preview-open",role:"button",tabIndex:"-1",onKeyPress:void 0,onClick:pe},o.a.createElement("i",{className:"fas fa-external-link-alt"})),o.a.createElement("div",{className:"preview"}))}}]),t}(o.a.Component)),Be=(a(46),a(47),function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).state={hovered:"",mouseEnter:!1},e}return Object(v.a)(t,e),Object(l.a)(t,[{key:"popHintOnMouseOver",value:function(e){var t=e.target.getAttribute("id");this.state.hovered===t?this.setState({hovered:""}):this.setState({hovered:t})}},{key:"mouseIn",value:function(){this.setState({mouseEnter:!0})}},{key:"mouseOut",value:function(){this.setState({mouseEnter:!1})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"layers-box",onMouseOver:function(t){return e.popHintOnMouseOver(t)},onFocus:function(){}},o.a.createElement("div",{className:"layer-outlet"},o.a.createElement("span",{className:"layer-title"},"Layers"),o.a.createElement("i",{id:"layers-preview",className:"fas fa-eye",onMouseEnter:function(){return e.mouseIn()},onMouseLeave:function(){return e.mouseOut()}}),o.a.createElement("p",{className:"hint layers-preview ".concat("layers-preview"===this.state.hovered?"":"hidden")},"Preview all layers",o.a.createElement("i",{className:"layers-preview-arrow fas fa-sort-down"}))),o.a.createElement("div",{className:"layer-buttons-box"},o.a.createElement("button",{type:"button",className:"layer-button",onMouseEnter:function(){return e.mouseIn()},onMouseLeave:function(){return e.mouseOut()}},o.a.createElement("i",{id:"layers-plus",className:"fas fa-plus"})),o.a.createElement("button",{type:"button",className:"layer-button",onMouseEnter:function(){return e.mouseIn()},onMouseLeave:function(){return e.mouseOut()}},o.a.createElement("i",{id:"layers-up",className:"fas fa-arrow-up"})),o.a.createElement("button",{type:"button",className:"layer-button",onMouseEnter:function(){return e.mouseIn()},onMouseLeave:function(){return e.mouseOut()}},o.a.createElement("i",{id:"layers-down",className:"fas fa-arrow-down"})),o.a.createElement("button",{type:"button",className:"layer-button",onMouseEnter:function(){return e.mouseIn()},onMouseLeave:function(){return e.mouseOut()}},o.a.createElement("i",{id:"layers-edit-name",className:"fas fa-pen"})),o.a.createElement("button",{type:"button",className:"layer-button",onMouseEnter:function(){return e.mouseIn()},onMouseLeave:function(){return e.mouseOut()}},o.a.createElement("i",{id:"layers-merge",className:"fas fa-compress"})),o.a.createElement("button",{type:"button",className:"layer-button",onMouseEnter:function(){return e.mouseIn()},onMouseLeave:function(){return e.mouseOut()}},o.a.createElement("i",{id:"layers-remove",className:"fas fa-times"})),o.a.createElement("p",{className:"hint layers-plus ".concat(!0===this.state.mouseEnter&&"layers-plus"===this.state.hovered?"":"hidden")},"Create a layer",o.a.createElement("i",{className:"layers-plus-arrow fas fa-sort-down"})),o.a.createElement("p",{className:"hint layers-up ".concat(!0===this.state.mouseEnter&&"layers-up"===this.state.hovered?"":"hidden")},"Move layer up",o.a.createElement("i",{className:"layers-up-arrow fas fa-sort-down"})),o.a.createElement("p",{className:"hint layers-down ".concat(!0===this.state.mouseEnter&&"layers-down"===this.state.hovered?"":"hidden")},"Move layer down",o.a.createElement("i",{className:"layers-down-arrow fas fa-sort-down"})),o.a.createElement("p",{className:"hint layers-edit-name ".concat(!0===this.state.mouseEnter&&"layers-edit-name"===this.state.hovered?"":"hidden")},"Edit layer name",o.a.createElement("i",{className:"layers-edit-name-arrow fas fa-sort-down"})),o.a.createElement("p",{className:"big hint layers-merge ".concat(!0===this.state.mouseEnter&&"layers-merge"===this.state.hovered?"":"hidden")},"Merge with layer below",o.a.createElement("i",{className:"layers-merge-arrow fas fa-sort-down"})),o.a.createElement("p",{className:"big hint layers-remove ".concat(!0===this.state.mouseEnter&&"layers-remove"===this.state.hovered?"":"hidden")},"Delete selected layer",o.a.createElement("i",{className:"layers-remove-arrow fas fa-sort-down"}))),o.a.createElement("ul",{className:"layer-list"},o.a.createElement("li",{className:"layer-item"},"Layer 1")))}}]),t}(o.a.Component));a(48);O.subscribe(function(){je=O.getState().addColor});var De,Fe=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).state={hovered:"",mouseEnter:!1,color:[],changed:!1,active:""},e}return Object(v.a)(t,e),Object(l.a)(t,[{key:"popHintOnMouseOver",value:function(e){var t=e.target.getAttribute("id");this.state.hovered===t?this.setState({hovered:""}):this.setState({hovered:t})}},{key:"mouseIn",value:function(){this.setState({mouseEnter:!0})}},{key:"mouseOut",value:function(){this.setState({mouseEnter:!1})}},{key:"addNewColor",value:function(){-1===this.state.color.indexOf(je)&&(this.state.color.push(je),this.setState({changed:!0,active:je}))}},{key:"changeCurColor",value:function(e){var t=p()(e.target).css("background-color");this.setState({active:t}),p()("#currentColor").css({background:t}),k.dispatch({type:"currentColor",value:t}),p()("#switchHexValue").click()}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"palettes-box",onMouseOver:function(t){return e.popHintOnMouseOver(t)},onFocus:function(){}},o.a.createElement("div",{className:"palettes-outlet"},o.a.createElement("span",{className:"palettes-title"},"Palettes")),o.a.createElement("div",{className:"palettes-buttons-box"},o.a.createElement("button",{type:"button",className:"palettes-button",onMouseEnter:function(){return e.mouseIn()},onMouseLeave:function(){return e.mouseOut()}},o.a.createElement("i",{id:"palettes-plus",className:"fas fa-plus"})),o.a.createElement("button",{type:"button",id:"palettes-dropdown-list",className:"palettes-button colors-list"},"Current colors",o.a.createElement("i",{className:"colors-list-arrow fas fa-sort-down ".concat("palettes-dropdown-list"===this.state.hovered?"colors-list-arrow-hovered":"")})),o.a.createElement("button",{type:"button",className:"palettes-button",onMouseEnter:function(){return e.mouseIn()},onMouseLeave:function(){return e.mouseOut()}},o.a.createElement("i",{id:"palettes-edit",className:"fas fa-pen"})),o.a.createElement("p",{className:"hint palettes-plus ".concat(!0===this.state.mouseEnter&&"palettes-plus"===this.state.hovered?"":"hidden")},"Create a new palette",o.a.createElement("i",{className:"palettes-plus-arrow fas fa-sort-down"})),o.a.createElement("p",{className:"hint palettes-edit ".concat(!0===this.state.mouseEnter&&"palettes-edit"===this.state.hovered?"":"hidden")},"Palette options",o.a.createElement("i",{className:"palettes-edit-arrow fas fa-sort-down"}))),o.a.createElement("ul",{className:"palettes-list"},o.a.createElement("span",{className:"palette-colors-isempty ".concat(!0===this.state.changed?"hidden":"")},"No colors in this palette yet"),this.state.color.map(function(t){return o.a.createElement("li",{key:t,id:t,className:"palette-sample-list"},o.a.createElement("div",{style:{background:t},className:"palette-sample ".concat(e.state.active===t?"active-palette-sample":""),onClick:function(t){return e.changeCurColor(t)},tabIndex:"-1",onKeyPress:function(){},onFocus:function(){},role:"button"}))})),o.a.createElement("button",{id:"addColorButton",className:"hidden",type:"button",onClick:function(){return e.addNewColor()}}))}}]),t}(o.a.Component);a(49);A.subscribe(function(){De=A.getState().optionsBlock});var Ue,ze,Le=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).state={active:""},e}return Object(v.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"addActiveOnClick",value:function(e){var t,a=e.target.getAttribute("id"),n=p()(e.target).css("background-image");t=n,p()(".frame").css({background:t}),p()(".canvas").css({background:t}),this.setState({active:a})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"general-settings-block ".concat("settings"===De?"flexed":"hidden")},o.a.createElement("div",{className:"current-bg"},o.a.createElement("span",{className:"default-bg bold"},"Background"),o.a.createElement("div",{className:"general-settings-buttons-area"},o.a.createElement("button",{type:"button",id:"bg1",onClick:function(t){return e.addActiveOnClick(t)},className:"general-settings-button bg1 ".concat("bg1"===this.state.active?"active-button":"not-active-button")}),o.a.createElement("button",{type:"button",id:"bg2",onClick:function(t){return e.addActiveOnClick(t)},className:"general-settings-button bg2 ".concat("bg2"===this.state.active?"active-button":"not-active-button")}),o.a.createElement("button",{type:"button",id:"bg3",onClick:function(t){return e.addActiveOnClick(t)},className:"general-settings-button bg3 ".concat("bg3"===this.state.active?"active-button":"not-active-button")}),o.a.createElement("button",{type:"button",id:"bg4",onClick:function(t){return e.addActiveOnClick(t)},className:"general-settings-button bg4 ".concat("bg4"===this.state.active?"active-button":"not-active-button")})),o.a.createElement("p",null,"Set default background")))}}]),t}(o.a.Component);a(50);k.subscribe(function(){Ue=k.getState().customWidth||33}),A.subscribe(function(){ze=A.getState().optionsBlock});var He,Re,Pe,We,Ye,Ge=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).state={customWidth:""},e}return Object(v.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){p()("#current-width").text(Ue),p()("#current-height").text(Ue),p()("#new-width").text(p()("#canvas1").width()),p()("#resize-input").attr("max","".concat(p()("#canvas1").width())),this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"resizeCanvasOnClickHandler",value:function(){if(p()("#resize-input").val()){var e=+p()("#resize-input").val(),t=+p()("#resize-input").attr("max");e>0&&e<t?(k.dispatch({type:"customWidth",value:e}),this.mounted&&this.setState({customWidth:Ue}),p()("#resize-input").val(""),p()("#error-message").text("")):(p()("#error-message").text("Size can be from ".concat(p()("#resize-input").attr("min")," to ").concat(p()("#resize-input").attr("max")," px")),p()("#resize-input").val(""))}}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"resize-canvas-block ".concat("resize-settings"===ze?"flexed":"hidden")},o.a.createElement("div",{className:"current-size"},o.a.createElement("span",{className:"default-size bold"},"current size"),o.a.createElement("p",null,"Width ",o.a.createElement("span",{className:"default-width bold",id:"current-width"},this.state.customWidth),"px"),o.a.createElement("p",null,"Height",o.a.createElement("span",{className:"default-width bold",id:"current-height"},this.state.customWidth),"px")),o.a.createElement("div",{className:"resize-canvas"},o.a.createElement("span",{className:"resize bold"},"resize"),o.a.createElement("p",{className:"new-width-block"},o.a.createElement("span",null,"1 - "),o.a.createElement("span",{id:"new-width",className:"canvas-width"}),o.a.createElement("span",null,"px"),o.a.createElement("input",{type:"number",className:"resize-input",id:"resize-input",min:"1",onKeyPress:function(t){"Enter"===t.key&&e.resizeCanvasOnClickHandler()}})),o.a.createElement("p",{id:"error-message",className:"error-message"}),o.a.createElement("button",{id:"resize-button",className:"resize-button",type:"button",onClick:function(){return e.resizeCanvasOnClickHandler()}},"Change canvas size")))}}]),t}(o.a.Component),Ke=(a(51),a(19)),Ve=function(){var e,t,a,n,o,c={},r=[],s=[],i=[],l=[],u=c.NeuQuant=function(e,c,r){var l,u;for(t=e,a=c,n=r,o=new Array(256),l=0;l<256;l++)o[l]=new Array(4),(u=o[l])[0]=u[1]=u[2]=(l<<12)/256,i[l]=256,s[l]=0},d=(c.map=function(e,t,a){var n,c,s,i,l,u,d;for(l=1e3,d=-1,c=(n=r[t])-1;n<256||c>=0;)n<256&&((s=(u=o[n])[1]-t)>=l?n=256:(n++,s<0&&(s=-s),(i=u[0]-e)<0&&(i=-i),(s+=i)<l&&((i=u[2]-a)<0&&(i=-i),(s+=i)<l&&(l=s,d=u[3])))),c>=0&&((s=t-(u=o[c])[1])>=l?c=-1:(c--,s<0&&(s=-s),(i=u[0]-e)<0&&(i=-i),(s+=i)<l&&((i=u[2]-a)<0&&(i=-i),(s+=i)<l&&(l=s,d=u[3]))));return d},c.process=function(){return function(){var o,c,r,s,i,u,d,f,p,g,b,y,w,k;for(a<1509&&(n=1),e=30+(n-1)/3,y=t,w=0,k=a,g=(b=a/(3*n))/100|0,f=1024,(d=(u=2048)>>6)<=1&&(d=0),o=0;o<d;o++)l[o]=f*(256*(d*d-o*o)/(d*d));for(p=a<1509?3:a%499!==0?1497:a%491!==0?1473:a%487!==0?1461:1509,o=0;o<b;)if(r=(255&y[w+0])<<4,s=(255&y[w+1])<<4,i=(255&y[w+2])<<4,c=h(r,s,i),v(f,c,r,s,i),0!==d&&m(d,c,r,s,i),(w+=p)>=k&&(w-=a),0===g&&(g=1),++o%g===0)for(f-=f/e,(d=(u-=u/30)>>6)<=1&&(d=0),c=0;c<d;c++)l[c]=f*(256*(d*d-c*c)/(d*d))}(),d(),function(){var e,t,a,n,c,s,i,l;for(i=0,l=0,e=0;e<256;e++){for(a=e,n=(c=o[e])[1],t=e+1;t<256;t++)(s=o[t])[1]<n&&(a=t,n=s[1]);if(s=o[a],e!=a&&(t=s[0],s[0]=c[0],c[0]=t,t=s[1],s[1]=c[1],c[1]=t,t=s[2],s[2]=c[2],c[2]=t,t=s[3],s[3]=c[3],c[3]=t),n!=i){for(r[i]=l+e>>1,t=i+1;t<n;t++)r[t]=e;i=n,l=e}}for(r[i]=l+255>>1,t=i+1;t<256;t++)r[t]=255}(),function(){for(var e=[],t=new Array(256),a=0;a<256;a++)t[o[a][3]]=a;for(var n=0,c=0;c<256;c++){var r=t[c];e[n++]=o[r][0],e[n++]=o[r][1],e[n++]=o[r][2]}return e}()},function(){var e;for(e=0;e<256;e++)o[e][0]>>=4,o[e][1]>>=4,o[e][2]>>=4,o[e][3]=e}),m=function(e,t,a,n,c){var r,s,i,u,d,m,v;for((i=t-e)<-1&&(i=-1),(u=t+e)>256&&(u=256),r=t+1,s=t-1,m=1;r<u||s>i;){if(d=l[m++],r<u){v=o[r++];try{v[0]-=d*(v[0]-a)/(1<<18),v[1]-=d*(v[1]-n)/(1<<18),v[2]-=d*(v[2]-c)/(1<<18)}catch(h){}}if(s>i){v=o[s--];try{v[0]-=d*(v[0]-a)/(1<<18),v[1]-=d*(v[1]-n)/(1<<18),v[2]-=d*(v[2]-c)/(1<<18)}catch(h){}}}},v=function(e,t,a,n,c){var r=o[t];r[0]-=e*(r[0]-a)/1024,r[1]-=e*(r[1]-n)/1024,r[2]-=e*(r[2]-c)/1024},h=function(e,t,a){var n,c,r,l,u,d,m,v,h,f;for(h=v=~(1<<31),m=d=-1,n=0;n<256;n++)(c=(f=o[n])[0]-e)<0&&(c=-c),(r=f[1]-t)<0&&(r=-r),c+=r,(r=f[2]-a)<0&&(r=-r),(c+=r)<v&&(v=c,d=n),(l=c-(s[n]>>12))<h&&(h=l,m=n),u=i[n]>>10,i[n]-=u,s[n]+=u<<10;return i[d]+=64,s[d]-=65536,m};return u.apply(this,arguments),c},Je=function(){var e,t,a,n,o,c,r,s,i,l,u,d,m={},v=[],h=[],f=0,p=!1,g=0,b=0,y=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],w=[],k=m.LZWEncoder=function(o,c,r,s){e=o,t=c,a=r,n=Math.max(2,s)},E=function(e,t){w[d++]=e,d>=254&&O(t)},N=function(e){C(5003),f=l+2,p=!0,x(l,e)},C=function(e){for(var t=0;t<e;++t)v[t]=-1},A=m.compress=function(e,t){var a,n,o,c,m,g;for(p=!1,s=S(r=i=e),u=(l=1<<e-1)+1,f=l+2,d=0,c=I(),g=0,a=5003;a<65536;a*=2)++g;g=8-g,C(5003),x(l,t);e:for(;-1!=(o=I());)if(a=(o<<12)+c,v[n=o<<g^c]!=a){if(v[n]>=0){m=5003-n,0===n&&(m=1);do{if((n-=m)<0&&(n+=5003),v[n]==a){c=h[n];continue e}}while(v[n]>=0)}x(c,t),c=o,f<4096?(h[n]=f++,v[n]=a):N(t)}else c=h[n];x(c,t),x(u,t)},O=(m.encode=function(a){a.writeByte(n),o=e*t,c=0,A(n+1,a),a.writeByte(0)},function(e){d>0&&(e.writeByte(d),e.writeBytes(w,0,d),d=0)}),S=function(e){return(1<<e)-1},I=function(){return 0===o?-1:(--o,255&a[c++])},x=function(e,t){for(g&=y[b],b>0?g|=e<<b:g=e,b+=r;b>=8;)E(255&g,t),g>>=8,b-=8;if((f>s||p)&&(p?(s=S(r=i),p=!1):s=12==++r?4096:S(r)),e==u){for(;b>0;)E(255&g,t),g>>=8,b-=8;O(t)}};return k.apply(this,arguments),m},Qe=function(){for(var e=0,t={};e<256;e++)t[e]=String.fromCharCode(e);function a(){this.bin=[]}a.prototype.getData=function(){for(var e="",a=this.bin.length,n=0;n<a;n++)e+=t[this.bin[n]];return e},a.prototype.writeByte=function(e){this.bin.push(e)},a.prototype.writeUTFBytes=function(e){for(var t=e.length,a=0;a<t;a++)this.writeByte(e.charCodeAt(a))},a.prototype.writeBytes=function(e,t,a){for(var n=a||e.length,o=t||0;o<n;o++)this.writeByte(e[o])};var n,o,c,r,s,i,l,u,d,m={},v=null,h=-1,f=0,p=!1,g=[],b=7,y=-1,w=!1,k=!0,E=!1,N=10,C="Generated by jsgif (https://github.com/antimatter15/jsgif/)",A=(m.setDelay=function(e){f=Math.round(e/10)},m.setDispose=function(e){e>=0&&(y=e)},m.setRepeat=function(e){e>=0&&(h=e)},m.setTransparent=function(e){v=e},m.setComment=function(e){C=e},m.addFrame=function(e,t){if(null===e||!p||null===r)throw new Error("Please call start method before calling addFrame");var a=!0;try{t?e instanceof ImageData?(s=e.data,n==e.width&&o==e.height||O(e.width,e.height)):e instanceof Uint8ClampedArray?e.length==n*o*4?s=e:(console.log("Please set the correct size: ImageData length mismatch"),a=!1):(console.log("Please provide correct input"),a=!1):(s=e.getImageData(0,0,e.canvas.width,e.canvas.height).data,E||O(e.canvas.width,e.canvas.height)),x(),S(),k&&(B(),F(),h>=0&&D()),j(),""!==C&&T(),M(),k||F(),z(),k=!1}catch(c){a=!1}return a},m.download=function(e){if(null===r||0==w)console.log("Please call start method and add frames and call finish method before calling download");else{e=void 0!==e?(e.endsWith(".gif"),e):"download.gif";var t=document.createElement("a");t.download=e,t.href=URL.createObjectURL(new Blob([new Uint8Array(r.bin)],{type:"image/gif"})),t.click()}},m.finish=function(){if(!p)return!1;var e=!0;p=!1;try{r.writeByte(59),w=!0}catch(t){e=!1}return e},function(){c=0,s=null,i=null,l=null,d=null,w=!1,k=!0}),O=(m.setFrameRate=function(e){15!=e&&(f=Math.round(100/e))},m.setQuality=function(e){e<1&&(e=1),N=e},m.setSize=function(e,t){p&&!k||((n=e)<1&&(n=320),(o=t)<1&&(o=240),E=!0)}),S=(m.start=function(){A();var e=!0;w=!1,r=new a;try{r.writeUTFBytes("GIF89a")}catch(t){e=!1}return p=e},m.cont=function(){A();return w=!1,r=new a,p=!0},function(){var e=i.length,t=e/3;l=[];var a=new Ve(i,e,N);d=a.process();for(var n=0,o=0;o<t;o++){var r=a.map(255&i[n++],255&i[n++],255&i[n++]);g[r]=!0,l[o]=r}i=null,u=8,b=7,null!==v&&(c=I(v))}),I=function(e){if(null===d)return-1;for(var t=(16711680&e)>>16,a=(65280&e)>>8,n=255&e,o=0,c=16777216,r=d.length,s=0;s<r;){var i=t-(255&d[s++]),l=a-(255&d[s++]),u=n-(255&d[s]),m=i*i+l*l+u*u,v=s/3;g[v]&&m<c&&(c=m,o=v),s++}return o},x=function(){var e=n,t=o;i=[];for(var a=s,c=0,r=0;r<t;r++)for(var l=0;l<e;l++){var u=r*e*4+4*l;i[c++]=a[u],i[c++]=a[u+1],i[c++]=a[u+2]}},j=function(){var e,t;r.writeByte(33),r.writeByte(249),r.writeByte(4),null===v?(e=0,t=0):(e=1,t=2),y>=0&&(t=7&y),t<<=2,r.writeByte(0|t|e),U(f),r.writeByte(c),r.writeByte(0)},T=function(){r.writeByte(33),r.writeByte(254),r.writeByte(C.length),r.writeUTFBytes(C),r.writeByte(0)},M=function(){r.writeByte(44),U(0),U(0),U(n),U(o),k?r.writeByte(0):r.writeByte(128|b)},B=function(){U(n),U(o),r.writeByte(240|b),r.writeByte(0),r.writeByte(0)},D=function(){r.writeByte(33),r.writeByte(255),r.writeByte(11),r.writeUTFBytes("NETSCAPE2.0"),r.writeByte(3),r.writeByte(1),U(h),r.writeByte(0)},F=function(){r.writeBytes(d);for(var e=768-d.length,t=0;t<e;t++)r.writeByte(0)},U=function(e){r.writeByte(255&e),r.writeByte(e>>8&255)},z=function(){new Je(n,o,l,u).encode(r)};m.stream=function(){return r},m.setProperties=function(e,t){p=e,k=t};return m};function Ze(){var e=new Qe;e.setRepeat(0),e.setDelay(He),e.start();for(var t=0;t<p()("#canvas-area").children().length;t+=1){for(var a=document.querySelector("#canvas".concat(t+1)),n=p()("#canvas".concat(t+1)).get(0).getContext("2d").getImageData(0,0,p()("#canvas".concat(t+1)).width(),p()("#canvas".concat(t+1)).width()),o=n.data.length,c=[],r=void 0,s=0;o>0;)(r=n.data.slice(s,s+4)).every(function(e){return 0===e})&&(r=r.map(function(){return 255})),c.push.apply(c,Object(Ke.a)(r)),s+=4,o-=4;var i=Uint8ClampedArray.from(c),l=new ImageData(i,a.width,a.height);e.setSize(a.height,a.width),e.addFrame(l,!0)}e.finish();var u=e.stream().getData();return"data:image/gif;base64,".concat(function(e){for(var t,a,n,o,c,r,s,i="",l=0,u=e.length,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";l<u;)o=(t=e.charCodeAt(l++))>>2,c=(3&t)<<4|(a=e.charCodeAt(l++))>>4,r=(15&a)<<2|(n=e.charCodeAt(l++))>>6,s=63&n,isNaN(a)?r=s=64:isNaN(n)&&(s=64),i=i+d.charAt(o)+d.charAt(c)+d.charAt(r)+d.charAt(s);return i}(u))}k.subscribe(function(){var e=k.getState().fps||3;He=1e3/e}),N.subscribe(function(){Re=N.getState().currentCanvas}),E.subscribe(function(){Pe=E.getState().title}),A.subscribe(function(){We=A.getState().optionsBlock}),C.subscribe(function(){Ye=C.getState().name});var Xe,qe=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).state={value:"New Piskel",isLogin:!1},e}return Object(v.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.mounted=!0,E.dispatch({type:"title",value:p()("#title-input").val()}),Ye&&this.setState({isLogin:!0})}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"onChangeHandler",value:function(){var e=p()("#title-input").val();this.setState({value:e}),E.dispatch({type:"title",value:e});for(var t=[],a=0;a<p()(".preview").children().length;a+=1)t.push(p()(".preview").children()[a].src);var n=Ze();w.dispatch({type:"gif",value:n}),w.dispatch({type:"frames",value:t});for(var o,c=[],r=0;r<20;r+=1)o=[[48,57],[65,90],[97,122],[1040,1103]][4*Math.random()>>0],c[r]=String.fromCharCode((Math.random()*(o[1]-o[0]+1)>>0)+o[0]);var s=c.join("");w.dispatch({type:"piskelID",value:s}),p()("#userAddPiskel").click()}},{key:"updateState",value:function(){Ye&&this.setState({isLogin:!0})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"save-settings-block ".concat("save-settings"===We?"flexed":"hidden")},o.a.createElement("div",{className:"sprite-info-block"},o.a.createElement("span",{className:"sprite-info bold"},"Sprite information"),o.a.createElement("span",{className:"label-title"},"Title:"),o.a.createElement("input",{className:"title-input",id:"title-input",defaultValue:this.state.value}),o.a.createElement("span",{className:"label-description"},"Description:"),o.a.createElement("textarea",{rows:"1",cols:"6",className:"description-input",id:"description-input"})),o.a.createElement("div",{className:"save-online-block"},o.a.createElement("span",{className:"save-online bold"},"Save online"),o.a.createElement("button",{id:"save-online",className:"save-online-button ".concat(this.state.isLogin?"":"hidden"),type:"button",onClick:function(){return e.onChangeHandler()}},"Save to your gallery"),o.a.createElement("button",{type:"button",onClick:function(){p()(".abcRioButton.abcRioButtonLightBlue").click()},className:"save-online-button ".concat(this.state.isLogin?"hidden":"")},"Sign in to save to your gallery"),o.a.createElement("p",{className:"save-online-info"},"Your piskel will be stored online in your gallery"),o.a.createElement("button",{type:"button",className:"hidden",id:"updateSaveButtonLoggedIn",onClick:function(){return e.updateState()}})))}}]),t}(o.a.Component);a(52);A.subscribe(function(){Xe=A.getState().optionsBlock});var $e,_e=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).state={active:"show-gif-block",dataUrl:""},e}return Object(v.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"showExportOptions",value:function(e){var t=e.target.getAttribute("id");this.setState({active:t})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"export-settings-block ".concat("export-settings"===Xe?"flexed":"hidden")},o.a.createElement("span",{className:"export-info bold"},"Export"),o.a.createElement("div",{className:"file-format-buttons"},o.a.createElement("button",{id:"show-gif-block",className:"show-gif-block ".concat("show-gif-block"===this.state.active?"active-show-button":"not-active-show-button"),type:"button",onClick:function(t){return e.showExportOptions(t)}},"GIF"),o.a.createElement("button",{id:"show-png-block",className:"show-png-block ".concat("show-png-block"===this.state.active?"active-show-button":"not-active-show-button"),type:"button",onClick:function(t){return e.showExportOptions(t)}},"PNG")),o.a.createElement("div",{className:"gif-block ".concat("show-gif-block"===this.state.active?"flexed":"hidden")},o.a.createElement("span",{className:"gif-title"},"Convert your sprite to an animated GIF"),o.a.createElement("div",{className:"download-block"},o.a.createElement("button",{id:"download-gif",className:"gif-button",type:"button",onClick:function(){return function(){var e=new Qe;e.setRepeat(0),e.setDelay(He),e.start();for(var t=0;t<p()("#canvas-area").children().length;t+=1){for(var a=document.querySelector("#canvas".concat(t+1)),n=p()("#canvas".concat(t+1)).get(0).getContext("2d").getImageData(0,0,p()("#canvas".concat(t+1)).width(),p()("#canvas".concat(t+1)).width()),o=n.data.length,c=[],r=void 0,s=0;o>0;)(r=n.data.slice(s,s+4)).every(function(e){return 0===e})&&(r=r.map(function(){return 255})),c.push.apply(c,Object(Ke.a)(r)),s+=4,o-=4;var i=Uint8ClampedArray.from(c),l=new ImageData(i,a.width,a.height);e.setSize(a.height,a.width),e.addFrame(l,!0)}e.finish(),Pe=Pe||"New Piskel-clone",e.download("".concat(Pe,".gif"))}()}},"Download"),o.a.createElement("span",{className:"download-gif-title"},"Download as an animated GIF")),o.a.createElement("div",{className:"download-block"},o.a.createElement("button",{id:"upload-gif",className:"gif-button",type:"button",onClick:function(){var t=Ze();e.setState({dataUrl:t})}},"Open in new tab"),o.a.createElement("span",{className:"upload-gif-title"},"Watch an animated GIF in new tab"),o.a.createElement("div",{className:"link-to-gif ".concat(this.state.dataUrl?"":"hidden")},o.a.createElement("button",{type:"button",onClick:function(){!function(e){var t=window.open();p()(t.document.body).css({display:"flex",width:"100vw",heigh:"100vh","justify-content":"center","align-items":"center",background:"whitesmoke"}),p()("<img></img>",{src:e}).appendTo(t.document.body)}(e.state.dataUrl),e.setState({dataUrl:""})}},"your animation file")))),o.a.createElement("div",{className:"png-block ".concat("show-png-block"===this.state.active?"flexed":"hidden")},o.a.createElement("span",{className:"png-title"},"Export selected frame as a PNG file"),o.a.createElement("div",{className:"download-block"},o.a.createElement("button",{id:"download-png",className:"png-button",type:"button",onClick:function(){return function(){var e=Re,t=new Qe;t.setRepeat(0),t.setDelay(He),t.start();for(var a,n=p()("#canvas".concat(e)).width(),o=p()("#canvas".concat(e)).get(0).getContext("2d").getImageData(0,0,n,n),c=o.data.length,r=[],s=0;c>0;)(a=o.data.slice(s,s+4)).every(function(e){return 0===e})&&(a=a.map(function(){return 255})),r.push.apply(r,Object(Ke.a)(a)),s+=4,c-=4;var i=Uint8ClampedArray.from(r),l=new ImageData(i,n,n);t.setSize(n,n),t.addFrame(l,!0),t.finish(),Pe=Pe||"New Piskel-clone",t.download("".concat(Pe,".png"))}()}},"Download"),o.a.createElement("span",{className:"download-png-title"},"Spritesheet file export")),o.a.createElement("div",{className:"download-block"},o.a.createElement("button",{id:"open-png",className:"png-button",type:"button",onClick:function(){for(var e=[],t=0;t<p()(".preview").children().length;t+=1)e.push(p()(".preview").children()[t].src);!function(e,t){var a=window.open();p()(a.document.body).css({display:"flex","flex-direction":"column",width:"100vw",height:"100vh","align-items":"center",background:"whitesmoke",overflow:"hidden"});for(var n=p()("<div></div>",{id:"ancor",width:"100%",height:"50%"}).appendTo(a.document.body).css({width:"80%",height:"50%",background:"white","overflow-y":"scroll","margin-bottom":"25px",border:"1px solid black"}),o=0;o<e.length;o+=1)p()("<img></img>",{src:e[o],width:"25%"}).appendTo(n).css({border:"1px solid black"});p()("<div></div>",{text:t}).appendTo(a.document.body).css({display:"flex","flex-wrap":"wrap",width:"80%",height:"40%","overflow-y":"scroll","word-break":"break-word"})}(e,Ze())}},"Open"),o.a.createElement("span",{className:"open-png-title"},"Open the spritesheet as a data uri"))),o.a.createElement("div",{id:"hidden",className:"hidden"}))}}]),t}(o.a.Component);k.subscribe(function(){$e=k.getState().fps});var et,tt,at,nt,ot,ct,rt=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).state={fps:3,hovered:"",active:"none",mouseEnter:!1},e.mounted=!1,e}return Object(v.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"fpsOnChangeHandler",value:function(){k.dispatch({type:"fps",value:p()("#fps-bar").val()}),this.setState({fps:$e})}},{key:"popHintOnMouseOver",value:function(e){var t=e.target.getAttribute("id");this.state.hovered===t?this.setState({hovered:""}):this.setState({hovered:t})}},{key:"mouseIn",value:function(){this.setState({mouseEnter:!0})}},{key:"mouseOut",value:function(){this.setState({mouseEnter:!1})}},{key:"showOptionsOnClick",value:function(e){var t=p()(e.target).attr("id")||p()(e.target).find("i").attr("id");this.state.active===t?(this.setState({active:"none"}),A.dispatch({type:"optionsBlock",value:"none"})):(this.setState({active:t}),A.dispatch({type:"optionsBlock",value:t}))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"optionsBox",id:"optionsBox"},o.a.createElement("div",{className:"fps-options"},o.a.createElement("span",{id:"display-fps",className:"display-fps"},"".concat(this.state.fps," FPS")),o.a.createElement("input",{type:"range",min:"1",max:"24",step:"1",defaultValue:this.state.fps,id:"fps-bar",className:"fps-bar",onChange:function(){return e.fpsOnChangeHandler()}})),o.a.createElement(Be,null),o.a.createElement(Fe,null),o.a.createElement("div",{className:"options-blocks-area ".concat("none"===this.state.active?"":"slide")},o.a.createElement(Le,null),o.a.createElement(Ge,null),o.a.createElement(qe,null),o.a.createElement(_e,null)),o.a.createElement("div",{className:"settings-buttons ".concat("none"===this.state.active?"":"slide"),onMouseOver:function(t){return e.popHintOnMouseOver(t)},onFocus:function(){}},o.a.createElement("button",{type:"button",className:"settings-button",onFocus:function(){},onClick:function(t){return e.showOptionsOnClick(t)},onMouseEnter:function(){return e.mouseIn()},onMouseLeave:function(){return e.mouseOut()}},o.a.createElement("i",{id:"settings",className:"fas fa-cog ".concat("settings"===this.state.hovered?"fas-hovered":""," ").concat("settings"===this.state.active?"fas-hovered":"")})),o.a.createElement("button",{type:"button",className:"settings-button",onFocus:function(){},onClick:function(t){return e.showOptionsOnClick(t)},onMouseEnter:function(){return e.mouseIn()},onMouseLeave:function(){return e.mouseOut()}},o.a.createElement("i",{id:"resize-settings",className:"fas fa-crop ".concat("resize-settings"===this.state.hovered?"fas-hovered":""," ").concat("resize-settings"===this.state.active?"fas-hovered":"")})),o.a.createElement("button",{type:"button",className:"settings-button",onFocus:function(){},onClick:function(t){return e.showOptionsOnClick(t)},onMouseEnter:function(){return e.mouseIn()},onMouseLeave:function(){return e.mouseOut()}},o.a.createElement("i",{id:"save-settings",className:"fas fa-save ".concat("save-settings"===this.state.hovered?"fas-hovered":""," ").concat("save-settings"===this.state.active?"fas-hovered":"")})),o.a.createElement("button",{type:"button",className:"settings-button",onFocus:function(){},onClick:function(t){return e.showOptionsOnClick(t)},onMouseEnter:function(){return e.mouseIn()},onMouseLeave:function(){return e.mouseOut()}},o.a.createElement("i",{id:"export-settings",className:"fas fa-file-download ".concat("export-settings"===this.state.hovered?"fas-hovered":""," ").concat("export-settings"===this.state.active?"fas-hovered":"")})),o.a.createElement("p",{className:"hint settings-button-cog ".concat(!0===this.state.mouseEnter&&"settings"===this.state.hovered?"":"hidden")},"Settings",o.a.createElement("i",{className:"settings-button-cog-arrow fas fa-caret-right"})),o.a.createElement("p",{className:"big hint resize-settings ".concat(!0===this.state.mouseEnter&&"resize-settings"===this.state.hovered?"":"hidden")},"Resize the drawing area",o.a.createElement("i",{className:"resize-settings-arrow fas fa-caret-right"})),o.a.createElement("p",{className:"hint save-settings ".concat(!0===this.state.mouseEnter&&"save-settings"===this.state.hovered?"":"hidden")},"Save to your galery",o.a.createElement("i",{className:"save-settings-arrow fas fa-caret-right"})),o.a.createElement("p",{className:"big hint export-settings ".concat(!0===this.state.mouseEnter&&"export-settings"===this.state.hovered?"":"hidden")},"Export as image or animated gif",o.a.createElement("i",{className:"export-settings-arrow fas fa-caret-right"}))))}}]),t}(o.a.Component),st=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).state={},e}return Object(v.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{id:"container",className:"container"},o.a.createElement("section",{className:"tool-pannel",id:"tool-pannel"},o.a.createElement(L,null)),o.a.createElement("section",{className:"frame-area",id:"frame-area"},o.a.createElement(Te,null)),o.a.createElement("section",{className:"canvas-area",id:"canvas-area"},o.a.createElement(be,null)),o.a.createElement("section",{className:"preview-area noselect",id:"preview-area"},o.a.createElement(Me,null)),o.a.createElement("section",{className:"options-area",id:"options-area"},o.a.createElement(rt,null))))}}]),t}(o.a.Component);a(53);C.subscribe(function(){et=C.getState().name,tt=C.getState().imageURL}),w.subscribe(function(){at=w.getState().gif,nt=w.getState().frames,ot=w.getState().piskelID}),E.subscribe(function(){ct=E.getState().title});var it={project1:{id:ot,gif:at,frames:nt}},lt=JSON.stringify(it);localStorage.setItem("myProjects",lt),p()(document).ready(function(){JSON.parse(localStorage.getItem("myProjects"))});var ut=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).state={img:"",name:"",height:"",isEmpty:!0,gif:"",frames:[],title:""},e.mounted=!1,e}return Object(v.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.setState({height:window.innerHeight,img:tt,name:et}),at&&nt&&(this.setState({isEmpty:!1,gif:at,frames:nt,title:ct}),localStorage.setItem("isEmpty",!1),localStorage.setItem("gif",at),localStorage.setItem("frames",nt),localStorage.setItem("title",ct))}},{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"adoptGif",value:function(){""===this.state.color.gif&&this.setState({isEmpty:!1,gif:at})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"user-page",style:{height:this.state.height-110}},o.a.createElement("div",{className:"user-image",style:{backgroundImage:"url(".concat(this.state.img,")"),backgroundSize:"contain"}}),o.a.createElement("h2",{className:"user-name"},this.state.name),o.a.createElement("ul",{className:"piskel-list"},o.a.createElement("li",null,"all"),o.a.createElement("li",null,"public"),o.a.createElement("li",null,"private"),o.a.createElement("li",null,"deleted")),o.a.createElement("div",{id:"user-piskel-preview-area",className:"user-piskel-preview-area"},o.a.createElement("span",{className:"".concat(this.state.isEmpty?"":"hidden")},"No piskel available in 'all' category."),o.a.createElement("div",{className:"user-preview-piskel-block ".concat(this.state.isEmpty?"hidden":"flexed")},o.a.createElement("div",{className:"preview-wrapper"},o.a.createElement("img",{className:"preview-gif",src:this.state.gif,alt:"preview"}),o.a.createElement("span",{className:"preview-gif-title"},this.state.title),o.a.createElement("div",{id:"user-piskel-hidden",className:"hidden"},this.state.frames.map(function(e){return o.a.createElement("img",{key:e,src:e,alt:"img"})}))))),o.a.createElement("div",{className:"hidden"},o.a.createElement("button",{id:"userAddPiskel",type:"button",onClick:function(){return e.adoptGif()}})))}}]),t}(o.a.Component),dt=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).state={redirected:""},e}return Object(v.a)(t,e),Object(l.a)(t,[{key:"isRedirected",value:function(){return localStorage.getItem("page")?this.state.redirected?o.a.createElement(h.a,{to:"/".concat(this.state.redirected)}):o.a.createElement(h.a,{to:"/".concat(localStorage.getItem("page"))}):o.a.createElement(h.a,{to:"/"})}},{key:"render",value:function(){var e=this;return o.a.createElement(s.a,null,o.a.createElement("div",{className:"homepage-section"},o.a.createElement("div",{className:"home-about"},o.a.createElement("h1",null,o.a.createElement("span",{className:"piskel"},"Piskel-clone "),"is a free online editor for animated sprites & pixel art"),o.a.createElement("h2",null,"Create animations in your browser."),o.a.createElement("h2",null,o.a.createElement("span",{className:"description-link"},"Try an example"),", use ",o.a.createElement("span",{role:"button",tabIndex:"-1",onKeyPress:void 0,className:"description-link",onClick:function(){return p()(".abcRioButton.abcRioButtonLightBlue").click()}},"Google sign in")," to access your gallery or simply ",o.a.createElement(s.b,{to:"/create-animation",onClick:function(){e.setState({redirected:"create-animation"}),localStorage.setItem("page","create-animation"),localStorage.setItem("auth",!1),p()(document.body).css({cursor:"default"})},className:"description-link"},"create a new sprite.")),o.a.createElement("div",{className:"home-buttons"},o.a.createElement("button",{type:"button",className:"login-button",onClick:function(){return p()(".abcRioButton.abcRioButtonLightBlue").click()}},"Sign in"),o.a.createElement("button",{type:"button",className:"create-button"},o.a.createElement(s.b,{to:"/create-animation",onClick:function(){localStorage.setItem("page","create-animation"),localStorage.setItem("auth",!1),p()(document.body).css({cursor:"default"})},className:"link"},"Create Sprite")))),o.a.createElement("div",{className:"home-image"},o.a.createElement("div",{className:"screen"}),o.a.createElement("div",{className:"home-preview"})),this.isRedirected(),o.a.createElement(h.b,{path:"/create-animation",component:st})))}}]),t}(o.a.Component),mt=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).state={id:"",name:"",img:"",redirected:"",active:""},e.onSuccess=e.onSuccess.bind(Object(m.a)(e)),e}return Object(v.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){localStorage.getItem("page")||this.setState({redirected:""})}},{key:"componentDidMount",value:function(){var e=this;p()(window).bind("beforeunload",function(){return"are you sure you want to leave?"}),setTimeout(function(){p()(document.body).ready(function(){window.gapi.load("auth2",function(){window.gapi.auth2.init({client_id:"717448332612-evijnpopt50fj6vp0d9iul50sgdout90.apps.googleusercontent.com"}).then(function(){window.gapi.signin2.render("my-signIn",{scope:"profile email",width:240,height:37,longtitle:!0,onsuccess:e.onSuccess,onfailure:e.onFailure})})})})},200)}},{key:"componentWillUnmount",value:function(){this.setState({redirected:"/"})}},{key:"onSuccess",value:function(e){var t=e.getBasicProfile(),a=t.getId(),n=t.getName(),o=t.getImageUrl();C.dispatch({type:"name",value:n}),this.setState({id:a,name:n,img:o}),p()("#updateSaveButtonLoggedIn").click(),"create-animation"===localStorage.getItem("page")&&!0===confirm("Are you sure you want to leave?")&&(localStorage.setItem("auth",!0),localStorage.setItem("page","user/".concat(a)),this.setState({redirected:"user/".concat(a)}),p()(document.body).css({cursor:"default"})),!0===localStorage.getItem("auth")&&(localStorage.setItem("page","user/".concat(a)),this.setState({redirected:"user/".concat(a)}))}},{key:"signOut",value:function(){var e=this;window.gapi.auth2.getAuthInstance().signOut().then(function(){e.setState({redirected:"",id:""}),localStorage.setItem("page",""),localStorage.setItem("auth",!1),C.dispatch({type:"name",value:""})})}},{key:"isRedirected",value:function(){return C.dispatch({type:"imageURL",value:this.state.img}),localStorage.getItem("page")?this.state.redirected?o.a.createElement(h.a,{to:"/".concat(this.state.redirected)}):o.a.createElement(h.a,{to:"/".concat(localStorage.getItem("page"))}):o.a.createElement(h.a,{to:"/"})}},{key:"addActiveClass",value:function(e){var t=e.currentTarget.getAttribute("id");this.state.active===t?this.setState({active:""}):this.setState({active:t})}},{key:"render",value:function(){var e=this;return o.a.createElement(s.a,null,o.a.createElement("div",null,o.a.createElement("header",{className:"header"},o.a.createElement("div",{className:"header-menu"},o.a.createElement("span",{className:"menu-icon"},o.a.createElement("i",{className:"fas fa-bars"})),o.a.createElement("ul",{className:"menu"},o.a.createElement("li",{className:"homepage"},o.a.createElement(s.b,{to:"/",className:"task-name",onClick:function(t){if("create-animation"===localStorage.getItem("page"))return!0===confirm("Are you sure you want to leave?")&&(e.setState({redirected:"/"}),localStorage.setItem("page","/"),localStorage.setItem("auth",!0),p()(document.body).css({cursor:"default"})),void t.preventDefault();localStorage.setItem("auth",!1),localStorage.setItem("page","/"),e.setState({redirected:"/"})}},"Piskel-clone")),o.a.createElement("li",{className:"create menu-item"},o.a.createElement(s.b,{to:"/create-animation",id:"create-animation",className:"create-link",onClick:function(){e.setState({redirected:"create-animation"}),localStorage.setItem("page","create-animation"),localStorage.setItem("auth",!1),p()(document.body).css({cursor:"default"})}},"Create Animation")),o.a.createElement("li",{className:"signin"},o.a.createElement("div",{className:"menu-item ".concat(this.state.id?"account":"hidden"),id:"list",role:"button",tabIndex:"-1",onKeyPress:void 0,onClick:function(t){e.addActiveClass(t)}},o.a.createElement("div",{className:"account-image",style:{backgroundImage:"url(".concat(this.state.img,")"),backgroundSize:"contain"}}),o.a.createElement("span",{className:"account-button"},this.state.name),o.a.createElement("i",{className:"fas fa-sort-down"}),o.a.createElement("ul",{className:"dropdown ".concat("list"===this.state.active?"active":"hidden")},o.a.createElement("li",{className:"list top ".concat("list"===this.state.active?"":"hidden")},o.a.createElement(s.b,{to:"/user/".concat(this.state.id),id:"galery",className:"account-item",onClick:function(t){"create-animation"===localStorage.getItem("page")&&(!0===confirm("Are you sure you want to leave?")&&(localStorage.setItem("auth",!0),localStorage.setItem("page","user/".concat(e.state.id)),e.setState({redirected:localStorage.getItem("page")}),p()(document.body).css({cursor:"default"})),t.preventDefault())}},"My Galery")),o.a.createElement("li",{className:"list bottom ".concat("list"===this.state.active?"":"hidden")},o.a.createElement(s.b,{to:"/".concat(this.state.redirected?this.state.redirected:""),id:"logout",className:"account-item",onClick:function(){!0===confirm("Are you sure you want to leave?")&&e.signOut()}},"Log out")))),o.a.createElement("div",{id:"my-signIn",className:"".concat(this.state.id?"hidden":"shown"),onClick:function(){localStorage.setItem("auth",!0)},onKeyPress:function(){},role:"button",tabIndex:"-1"}),this.isRedirected())))),o.a.createElement(h.d,null,o.a.createElement(h.b,{path:"/",exact:!0,component:dt}),o.a.createElement(h.b,{path:"/user/".concat(this.state.id),component:ut}),o.a.createElement(h.b,{path:"/create-animation",component:st}),o.a.createElement(h.b,{path:"*",component:dt}))))}}]),t}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(s.a,null,o.a.createElement(mt,null)),document.getElementById("home-page")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[34,1,2]]]);
//# sourceMappingURL=main.89bc9be6.chunk.js.map