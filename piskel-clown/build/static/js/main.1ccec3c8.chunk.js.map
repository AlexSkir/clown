{"version":3,"sources":["components/tools/images/colorpicker.png","components/tools/images/bucket.png","components/tools/images/pen.png","components/tools/images/eraser.png","store/store.js","components/tools/toolsDomBuilder.js","components/tools/color-picker.js","components/tools/paintBucket.js","components/tools/pen.js","components/tools/eraser.js","screens/canvas/resizeWindow.js","screens/canvas/drawing.js","screens/preview/preview.js","screens/canvas/canvasDomBuilder.js","components/frames-list/frameDomBuilder.js","components/frames-list/canvasManager.js","components/frames-list/framesManager.js","components/menu/options.js","screens/preview/previewDomBuilder.js","homepage/create/create.js","homepage/login/login.js","homepage/about/about.js","homepage/home.js","serviceWorker.js","index.js"],"names":["module","exports","store","createStore","state","arguments","length","undefined","action","type","Object","assign","currentPage","value","currentColor","prevColor","currentTool","currentCanvas","fps","customWidth","toolState","currentColorState","prevColorState","subscribe","getState","Tools","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","tool","active","mounted","_this2","$","document","click","e","colorPickerHandleClick","css","dispatch","current","prev","target","is","background-color","id","attr","setState","children","removeClass","_this3","react_default","a","createElement","name","className","onMouseEnter","buttonOnHoverIn","onMouseLeave","buttonOnHoverOut","onClick","find","addClass","hasClass","focus","body","cursor","concat","paintBucketIcon","blur","colorPicker","penIcon","erserIcon","onChange","customedColor","val","match","map","v","parseInt","join","customedColorOnChange","React","Component","canvasWidth","window","innerWidth","innerHeight","bind","i","imageData","get","getContext","getImageData","changeWidth","putImageData","text","width","endX","endY","mouseDownX","mouseDownY","end","ctx","offsetX","offsetY","fillStyle","strokeStyle","canvasSize","Math","ceil","mouseMoveX","floor","mouseMoveY","fillRect","start","globalCompositeOperation","mousemove","anim","newWindow","count","animate","clearTimeout","time","display","style","setTimeout","makeImage","n","canvasImage","Image","toDataURL","insertBefore","next","remove","appendTo","fullSizePreview","close","open","newPreview","clone","justify-content","align-items","height","newFps","newCount","ready","newAnimate","Canvas","size","curCanvas","penHandleClick","unbind","mousedown","mouseup","off","dataURL","background","background-size","openCanvas","num","toggleClass","hoverIn","hoverOut","updateId","removeFrame","parent","copyFrame","insertAfter","hover","cloneWrapper","copyCanvas","addNewFrame","first","last","class","newCanvas","Frames","Preview","role","tabIndex","onKeyPress","Options","inputVal","maxSize","min","max","step","defaultValue","fpsOnChangeHandler","resizeCanvasOnClickHandler","CreateAnimation","toolsDomBuilder","frameDomBuilder","canvasDomBuilder","previewDomBuilder","options","Login","About","react_router_dom","to","AppRouter","react_router","path","exact","component","Boolean","location","hostname","ReactDOM","render","homepage_home","getElementById","navigator","serviceWorker","then","registration","unregister"],"mappings":"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","file":"static/js/main.1ccec3c8.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADCSURBVDhP7dAxCwFhGMDxh00Gk4nBYDAZFIvNJ/BBDOwGiUlJklAWPov4FqSUDEqUSfyf91zdqTuv3b9+3fte3b13j1hUwxpLJPWGTRHE0cLTYw6rGtjC+7BawVf0ff0sgYyz9GX1BW3cUMUG7un6O1/r4YKy2Ynk8cAeMb0RVhdnFM1OJIsdFqhDBxtYBXeUzE4khwMmCJqTrzGmzlIKOGKA0FPdUjihgz6uaMK6IXTK+pIZ3AFap9MdIW12/35M5AUsFCcIOdPfYQAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAEdSURBVEhL3dU/a8JAHMbxIChYlQ52aIeCU6Gbk2+hXcV306lDofSttIvuQsGhk4uLIIiCVVF0KxQ6td9HchDkvDvSdKgPfCC55H4PJP6Jjj4tPKOwO8s4ZSzxjTb+pKSODVTSwf8sKeIVKsi85ARdaPAa2/g4k5IKetBAvexr6HFlUnKKN2jQDFcw+fU7qaIPDZighv2kLjnDANo4wiUOJVXJC7RhiAsteJIsudeCK3l84RPnWghMAyqY7s4cyeEDujkNb4HyBNvmEN5HpOhF6YfNNsDFvORmzBndqA22QTZmeAnzmI6dCS1JfjzvYNZ17I2vJDlcGcNc03FQDpXY/oDeYa7r5yU4+n48YIEVHrE/XLmFBsuNFo4hUfQDRmuR/2vYwfIAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAAAOdJREFUOI3t0zErhWEUAOCnK9Pd76a4kjALGQ0+1ySrwXgXg9WPMBjFYJMSZTGom1kppJj9BBYZGL4zfG4ZvnPv6Cxv5z29T+e8dUbkYxK72EATL/huJLEC54FcoYNTpLwC79jpuz+Jbmtjd2ijh61KrYP9DNaKfAFfFXQbe1lsDg+Yx61y/HuMDYLNRN5W/mkxDKwV9TT2iNl/7M9YGybWxAcuMR3YU5y1MVjHIVZwg7dBMDjwe7F7mMpi8IrFSr6Kiyw2gWflBixhE0dqrFM1GtHNJ0ZxjGWcKce9rguKLroYzzzujx/AVUNl5zj/7wAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAAAWZJREFUOI2t0jFI1VEUx/FPGjlki9ai0CQIDQ5pCqbNTxJdykGdWmxxsUAHXYJwqMVBNHVzKWh2EAdBTDCQFhWKrMW2aFTiyXO4f+GP/u//8dQfHLiXe+73nvs7h2tWdYX5PZhDF6rwCyeXffwZVtCIZkxgHe9wv1LYIJZwM+OsDbOYjpxf0BBmcCMnpxa/0VEONoz5MrB7+IgDwdeoBgXDh3NymvAZvXiVB3uOIkpJ7OE1GlI5rVhFndD5OzFYAf9TsHScYAMfsIl6PBA6nqlW/IvAzmIL+7greLuI21mwGvzENhawjL8pUBHvsYPu5M5bPI5VN3qukgNMYQCTQpP2EiCM4WkMVoPDyBeLaE8eKGEcL9EXg8FIBHbWiBep/Tf058Gq8D0H+AWfkvWxMHO5epIDKwnGHyVRKAerxp/kYhtuZeR8xcOksrVywLTqBMN/pKrbFQa4sxJQlh7hjTCLLVeFXUmnRmtxEV/Efn8AAAAASUVORK5CYII=\"","import { createStore } from 'redux';\n\nfunction appState(state = {}, action) {\n  switch (action.type) {\n    case 'currentPage':\n      return Object.assign({}, state, {\n        currentPage: action.value\n      });\n    case 'currentColor':\n      return Object.assign({}, state, {\n        currentColor: action.value\n      });\n    case 'prevColor':\n      return Object.assign({}, state, {\n        prevColor: action.value\n      });\n    case 'currentTool':\n      return Object.assign({}, state, {\n        currentTool: action.value\n      });\n    case 'currentCanvas':\n      return Object.assign({}, state, {\n        currentCanvas: action.value\n      });\n    case 'fps':\n      return Object.assign({}, state, {\n        fps: action.value\n      });\n    case 'customWidth':\n      return Object.assign({}, state, {\n        customWidth: action.value\n      });\n    default:\n      return state;\n  }\n}\n\nconst store = createStore(appState);\n\nexport default store;\n","import React from 'react';\nimport $ from 'jquery';\nimport './tools.css';\nimport { colorPickerOnClick, customedColorOnChange, changeBG } from './color-picker';\nimport paintBucketOnClick from './paintBucket';\nimport penOnClick from './pen';\nimport eraserOnClick from './eraser';\nimport store from '../../store/store';\n\nlet toolState;\nlet currentColorState;\nlet prevColorState;\nstore.subscribe(() => {\n  toolState = store.getState().currentTool;\n  currentColorState = store.getState().currentColor;\n  prevColorState = store.getState().prevColor;\n});\n\nclass Tools extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      tool: '',\n      active: ''\n    };\n    this.mounted = false;\n  }\n\n  componentWillMount() {\n    $(document).click(e => this.colorPickerHandleClick(e));\n  }\n\n  componentDidMount() {\n    const currentColor = $('#currentColor').css('background-color');\n    const prevColor = $('#prevColor').css('background-color');\n    store.dispatch({ type: 'currentColor', value: currentColor });\n    store.dispatch({ type: 'prevColor', value: prevColor });\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  colorPickerHandleClick(e) {\n    if (this.state.tool === 'colorPickerTool') {\n      if ($(e.target).is('.radiobutton')) {\n        if ($(e.target).css('background-color') !== currentColorState) {\n          store.dispatch({ type: 'prevColor', value: currentColorState });\n          store.dispatch({ type: 'currentColor', value: $(e.target).css('background-color') });\n          changeBG(currentColorState, prevColorState);\n        }\n      }\n    }\n  }\n\n  buttonOnHoverIn(e) {\n    const id = $(e.target).attr('id');\n    if (this.mounted) {\n      this.setState({ active: id });\n    }\n  }\n\n  buttonOnHoverOut(e) {\n    $(e.target)\n      .children()\n      .removeClass('fas-hovered');\n    if (this.mounted) {\n      this.setState({ active: 'false' });\n    }\n  }\n\n  render() {\n    return (\n      <div name=\"Tools\">\n        <div className=\"palette\" id=\"palette-tool-area\">\n          <div className=\"palette-block\">\n            <button\n              id=\"paint-bucket\"\n              className=\"palette-button\"\n              type=\"button\"\n              onMouseEnter={e => this.buttonOnHoverIn(e)}\n              onMouseLeave={e => this.buttonOnHoverOut(e)}\n              onClick={() => {\n                paintBucketOnClick();\n                if (this.mounted) {\n                  this.setState({ tool: toolState });\n                }\n              }}\n            >\n              <i\n                className={`fas fa-fill-drip ${\n                  this.state.active === 'paint-bucket' ? 'fas-hovered' : ''\n                }`}\n              />\n            </button>\n          </div>\n          <div className=\"palette-block\">\n            <button\n              id=\"color-picker\"\n              className=\"palette-button\"\n              type=\"button\"\n              onMouseEnter={e => this.buttonOnHoverIn(e)}\n              onMouseLeave={e => this.buttonOnHoverOut(e)}\n              onClick={() => {\n                colorPickerOnClick();\n                if (this.mounted) {\n                  this.setState({ tool: toolState });\n                }\n              }}\n            >\n              <i\n                className={`fas fa-eye-dropper ${\n                  this.state.active === 'color-picker' ? 'fas-hovered' : ''\n                }`}\n              />\n            </button>\n          </div>\n          <div className=\"palette-block\">\n            <button\n              id=\"pen\"\n              className=\"palette-button\"\n              type=\"button\"\n              onMouseEnter={e => this.buttonOnHoverIn(e)}\n              onMouseLeave={e => this.buttonOnHoverOut(e)}\n              onClick={() => {\n                penOnClick();\n                if (this.mounted) {\n                  this.setState({ tool: toolState });\n                }\n              }}\n            >\n              <i\n                className={`fas fa-pencil-alt ${this.state.active === 'pen' ? 'fas-hovered' : ''}`}\n              />\n            </button>\n          </div>\n          <div className=\"palette-block\">\n            <button\n              id=\"eraser\"\n              className=\"palette-button\"\n              type=\"button\"\n              onMouseEnter={e => this.buttonOnHoverIn(e)}\n              onMouseLeave={e => this.buttonOnHoverOut(e)}\n              onClick={() => {\n                eraserOnClick();\n                if (this.mounted) {\n                  this.setState({ tool: toolState });\n                }\n              }}\n            >\n              <i\n                className={`fas fa-eraser ${this.state.active === 'eraser' ? 'fas-hovered' : ''}`}\n              />\n            </button>\n          </div>\n        </div>\n\n        <div className={`color ${this.state.tool === 'colorPickerTool' ? '' : 'hidden'}`}>\n          <div className=\"color-block\">\n            <div className=\"radiobutton white\" id=\"currentColor\" />\n            <span className=\"color-name\">Current color</span>\n          </div>\n          <div className=\"color-block\">\n            <div className=\"radiobutton green\" id=\"prevColor\" />\n            <span className=\"color-name\">Prev color</span>\n          </div>\n          <div className=\"color-block\">\n            <div className=\"radiobutton red\" />\n            <span className=\"color-name\">Red</span>\n          </div>\n          <div className=\"color-block\">\n            <div className=\"radiobutton blue\" />\n            <span className=\"color-name\">Blue</span>\n          </div>\n          <div className=\"color-block\">\n            <input\n              type=\"color\"\n              name=\"colors\"\n              id=\"customed\"\n              value=\"#161030\"\n              onChange={() => {\n                customedColorOnChange();\n              }}\n            />\n            <span className=\"color-name\">Custom color</span>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Tools;\n","import $ from 'jquery';\nimport colorPicker from './images/colorpicker.png';\nimport store from '../../store/store';\n\n// chose color from pop out panel of colors and bind it to current color box\nfunction customedColorOnChange() {\n  const customedColor = `rgb(${$('#customed')\n    .val()\n    .match(/[A-Za-z0-9]{2}/g)\n    .map(v => {\n      return parseInt(v, 16);\n    })\n    .join(', ')})`;\n  store.dispatch({ type: 'prevColor', value: store.getState().currentColor });\n  store.dispatch({ type: 'currentColor', value: customedColor });\n  $('#prevColor').css({ 'background-color': $('#currentColor').css('background-color') });\n  $('#currentColor').css({ 'background-color': customedColor });\n}\n\n// change style of tool button\nfunction colorPickerOnClick() {\n  if (store.getState().currentTool !== 'colorPickerTool') {\n    $('#palette-tool-area')\n      .find('button')\n      .removeClass('hovered');\n    $('#color-picker').addClass('hovered');\n    store.dispatch({ type: 'currentTool', value: 'colorPickerTool' });\n    $('#color-picker').focus();\n    $(document.body).css({ cursor: `url(${colorPicker}) 4 12, auto` });\n  } else if (store.getState().currentTool === 'colorPickerTool') {\n    store.dispatch({ type: 'currentTool', value: 'none' });\n    $('#color-picker').removeClass('hovered');\n    $('.color').addClass('hidden');\n    $('#color-picker').blur();\n    $(document.body).css({ cursor: 'default' });\n  }\n}\n\nfunction changeBG(current, prev) {\n  $('#currentColor').css({ 'background-color': current });\n  $('#prevColor').css({ 'background-color': prev });\n}\n\nexport { customedColorOnChange, colorPickerOnClick, changeBG };\n","import $ from 'jquery';\nimport store from '../../store/store';\nimport paintBucketIcon from './images/bucket.png';\n\n// change tool-button style, tool does not work yet\nexport default function paintBucketOnClick() {\n  if (store.getState().currentTool !== 'paintBucketTool') {\n    $('#palette-tool-area')\n      .find('button')\n      .removeClass('hovered');\n    $('#paint-bucket').addClass('hovered');\n    if (!$('.color').hasClass('hidden')) {\n      $('.color').addClass('hidden');\n    }\n    store.dispatch({ type: 'currentTool', value: 'paintBucketTool' });\n    $('#paint-bucket').focus();\n    $(document.body).css({ cursor: `url(${paintBucketIcon}), auto` });\n  } else if (store.getState().currentTool === 'paintBucketTool') {\n    store.dispatch({ type: 'currentTool', value: '' });\n    $('#paint-bucket').removeClass('hovered');\n    $('#paint-bucket').blur();\n    $(document.body).css({ cursor: 'default' });\n  }\n}\n","import $ from 'jquery';\nimport './tools.css';\nimport store from '../../store/store';\nimport penIcon from './images/pen.png';\n\n// change button-tool style if clicked\nexport default function penOnClick() {\n  if (store.getState().currentTool !== 'penTool') {\n    $('#palette-tool-area')\n      .find('button')\n      .removeClass('hovered');\n    store.dispatch({ type: 'currentTool', value: 'penTool' });\n    $('#pen').addClass('hovered');\n    $('#pen').focus();\n    $(document.body).css({ cursor: `url(${penIcon}) 1 18, auto` });\n  } else if (store.getState().currentTool === 'penTool') {\n    store.dispatch({ type: 'currentTool', value: '' });\n    $('#pen').removeClass('hovered');\n    $('#pen').blur();\n    $(document.body).css({ cursor: 'default' });\n  }\n}\n","import $ from 'jquery';\nimport './tools.css';\nimport store from '../../store/store';\nimport erserIcon from './images/eraser.png';\n\n// change button-tool style if clicked\nexport default function eraserOnClick() {\n  if (store.getState().currentTool !== 'eraserTool') {\n    store.dispatch({ type: 'currentTool', value: 'eraserTool' });\n    $('#palette-tool-area')\n      .find('button')\n      .removeClass('hovered');\n    $('#eraser').addClass('hovered');\n    $('#eraser').focus();\n    $(document.body).css({ cursor: `url(${erserIcon}) 1 18, auto` });\n  } else if (store.getState().currentTool === 'eraserTool') {\n    store.dispatch({ type: 'currentTool', value: '' });\n    $('#eraser').removeClass('hovered');\n    $('#eraser').blur();\n    $(document.body).css({ cursor: 'default' });\n  }\n}\n","import $ from 'jquery';\n\nconst canvasWidth =\n  window.innerWidth - 450 < window.innerHeight - 155\n    ? window.innerWidth - 450\n    : window.innerHeight - 155;\n\n$(window).bind('resize', () => {\n  for (let i = 0; i < $('.canvas-area').children().length; i += 1) {\n    // get context before resizing\n    const imageData = $(`#canvas${i + 1}`)\n      .get(0)\n      .getContext('2d')\n      .getImageData(0, 0, canvasWidth, canvasWidth);\n\n    // calc new canvas width on resize the window\n    const changeWidth =\n      window.innerWidth - 450 < window.innerHeight - 155\n        ? window.innerWidth - 450\n        : window.innerHeight - 155;\n\n    $(`#canvas${i + 1}`)\n      .attr('width', changeWidth)\n      .attr('height', changeWidth); // all canvases will resize\n\n    // put context after resizing\n    $(`#canvas${i + 1}`)\n      .get(0)\n      .getContext('2d')\n      .putImageData(imageData, 0, 0);\n  }\n  $('#new-width').text($('#canvas1').width()); // change resize options\n  $('#resize-input').attr('max', $('#canvas1').width());\n});\n","import $ from 'jquery';\nimport store from '../../store/store';\n\nlet currentCanvas;\nlet customWidth;\nlet tool;\nstore.subscribe(() => {\n  currentCanvas = store.getState().currentCanvas;\n  customWidth = store.getState().customWidth || 33;\n  tool = store.getState().currentTool;\n});\n\nlet endX;\nlet endY;\nlet mouseDownX;\nlet mouseDownY;\n\n// drawing on mouse move\nfunction end(e) {\n  const ctx = $(`#canvas${currentCanvas}`)\n    .get(0)\n    .getContext('2d');\n  endX = e.offsetX;\n  endY = e.offsetY;\n  if (tool === 'penTool') {\n    ctx.fillStyle = $('#currentColor').css('background-color'); // color depends on chosen color\n    ctx.strokeStyle = $('#currentColor').css('background-color');\n  } else if (tool === 'eraserTool') {\n    ctx.fillStyle = 'rgba(0, 0, 0, 1)';\n    ctx.strokeStyle = 'rgba(0, 0, 0, 1)';\n  }\n  // calc pen size according to chosen canvas width\n  const canvasSize = Math.ceil($(`#canvas${currentCanvas}`).width() / customWidth);\n  // calc position and size of canvas rectangles according to pen size\n  const mouseMoveX = Math.floor(e.offsetX / canvasSize) * canvasSize;\n  const mouseMoveY = Math.floor(e.offsetY / canvasSize) * canvasSize;\n  if (mouseDownX > endX || mouseDownY > endY) {\n    ctx.fillRect(mouseMoveX, mouseMoveY, canvasSize, canvasSize);\n  } else if (mouseDownX + canvasSize < endX || mouseDownY + canvasSize < endY) {\n    ctx.fillRect(mouseMoveX, mouseMoveY, canvasSize, canvasSize);\n  }\n}\n\n// drawing on mouse click\nfunction start(e) {\n  if (tool === 'penTool' || tool === 'eraserTool') {\n    const ctx = $(`#canvas${currentCanvas}`)\n      .get(0)\n      .getContext('2d');\n    const canvasSize = Math.ceil($(`#canvas${currentCanvas}`).width() / customWidth);\n    if (tool === 'penTool') {\n      ctx.globalCompositeOperation = 'source-over';\n      ctx.fillStyle = $('#currentColor').css('background-color');\n      ctx.strokeStyle = $('#currentColor').css('background-color');\n    } else if (tool === 'eraserTool') {\n      ctx.fillStyle = 'rgba(0, 0, 0, 1)';\n      ctx.strokeStyle = 'rgba(0, 0, 0, 1)';\n      ctx.globalCompositeOperation = 'destination-out';\n    }\n    mouseDownX = Math.floor(e.offsetX / canvasSize) * canvasSize;\n    mouseDownY = Math.floor(e.offsetY / canvasSize) * canvasSize;\n    ctx.fillRect(mouseDownX, mouseDownY, canvasSize, canvasSize);\n    $(`#canvas${currentCanvas}`).mousemove(end);\n  }\n}\n\nexport { start, end };\n","import $ from 'jquery';\nimport store from '../../store/store';\n\nlet fps;\nstore.subscribe(() => {\n  fps = store.getState().fps || 3;\n});\nlet count = 0;\nlet anim;\nfunction animate() {\n  clearTimeout(anim); // stop old animation\n  const time = 1000 / fps; // calc animation speed\n  $('.preview')\n    .children()\n    .css({ display: 'none' }); // hide all canvas-images\n  if ($('.preview').children()[count]) {\n    $('.preview').children()[count].style.display = 'block'; // show only the \"count\"-th image\n  }\n  count += 1;\n  if (count === $('.preview').children().length) {\n    count = 0; // restart counting if all images were shown\n  }\n\n  anim = setTimeout(animate, time); // repeat animation\n}\n\n// make image from canvas drawing\nfunction makeImage(n) {\n  const canvasImage = new Image();\n  $(canvasImage)\n    .attr('id', `canvasImage${n}`)\n    .css({ width: '100%' })\n    .attr('src', $(`#canvas${n}`)[0].toDataURL('image/png'));\n\n  // if the image is from the same canvas should update the image\n  if ($(`#canvasImage${n}`).length) {\n    $(canvasImage)\n      .insertBefore(`#canvasImage${n}`)\n      .next()\n      .remove();\n  } else {\n    // if new canvas was made should append new image\n    $(canvasImage).appendTo('.preview');\n  }\n  if ($('.preview').children().length > 1) {\n    count = 0;\n    animate();\n  } else {\n    clearTimeout(anim);\n  }\n}\n\nlet newWindow;\nlet id = 0;\n// open new window to watch animation in full-size mode\nfunction fullSizePreview() {\n  if (newWindow) {\n    id += 1;\n    newWindow.close();\n  }\n  newWindow = window.open('about:blank', `window${id}`, 'width=300,height=300');\n\n  // cloning animation box with images to new window\n  const newPreview = $('.preview')\n    .clone()\n    .appendTo(newWindow.document.body)\n    .css({ display: 'flex', 'justify-content': 'center', 'align-items': 'center', height: '100%' });\n  $(newWindow.document.body).css({\n    display: 'flex',\n    'justify-content': 'center',\n    'align-items': 'center'\n  });\n\n  const newFps = fps;\n  let newCount = 0;\n\n  function newAnimate() {\n    // clearTimeout(newAnim);\n    const time = 1000 / newFps;\n    newPreview.children().css({ display: 'none' });\n    if (newPreview.children()[newCount]) {\n      newPreview.children()[newCount].style.display = 'block';\n    }\n    newCount += 1;\n    if (newCount === newPreview.children().length) {\n      newCount = 0;\n    }\n    setTimeout(newAnimate, time);\n  }\n  // when new window loaded should start animation\n  $(newWindow).ready(newAnimate);\n}\n\nexport { makeImage, animate, fullSizePreview };\n","import React from 'react';\nimport $ from 'jquery';\nimport './resizeWindow';\nimport './canvas.css';\nimport store from '../../store/store';\nimport { start } from './drawing';\nimport { makeImage } from '../preview/preview';\n\nlet currentCanvas;\nstore.subscribe(() => {\n  currentCanvas = store.getState().currentCanvas;\n});\n\nclass Canvas extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      size: '',\n      curCanvas: ''\n    };\n    this.mounted = false;\n  }\n\n  componentWillMount() {\n    const canvasWidth =\n      window.innerWidth - 450 < window.innerHeight - 155\n        ? window.innerWidth - 450\n        : window.innerHeight - 155;\n    this.setState({ size: canvasWidth });\n\n    $(document).click(() => this.penHandleClick());\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    if (this.mounted) {\n      this.setState({ curCanvas: currentCanvas });\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  penHandleClick() {\n    if (this.mounted) {\n      this.setState({ curCanvas: currentCanvas });\n    }\n\n    // remove old events\n    $(`#canvas${this.state.curCanvas}`)\n      .unbind('mousedown')\n      .unbind('mouseup');\n    // initialize new events\n    $(`#canvas${this.state.curCanvas}`).mousedown(start);\n    $(`#canvas${this.state.curCanvas}`).mouseup(() => {\n      $(`#canvas${this.state.curCanvas}`).off('mousemove');\n      // create canvas-image url\n      const dataURL = $(`#canvas${this.state.curCanvas}`)[0].toDataURL('image/png');\n      // put canvas image in preview-box\n      $(`#frame${this.state.curCanvas}`)\n        .find('.preview-box')\n        .css({\n          background: `url(${dataURL})`,\n          'background-size': 'contain'\n        });\n      // create image for animation preview\n      setTimeout(() => {\n        makeImage(this.state.curCanvas);\n      }, 500);\n    });\n  }\n\n  render() {\n    return (\n      <canvas\n        id=\"canvas1\"\n        className=\"canvas hidden\"\n        width={this.state.size}\n        height={this.state.size}\n      />\n    );\n  }\n}\n\nexport default Canvas;\n","import React from 'react';\nimport $ from 'jquery';\nimport './frames.css';\nimport { hoverIn, hoverOut, addNewFrame, removeFrame, copyFrame } from './framesManager';\nimport { openCanvas } from './canvasManager';\nimport store from '../../store/store';\n\nlet customWidth;\nstore.subscribe(() => {\n  customWidth = store.getState().customWidth;\n});\n\nclass Frames extends React.Component {\n  constructor() {\n    super();\n    this.state = {};\n  }\n\n  componentDidMount() {\n    $('.frame')\n      .hover(hoverIn, hoverOut)\n      .click(openCanvas); // show/hide frame buttons\n    $('.removeFrame').click(removeFrame); // frame-button to remove frame\n    $('.copyFrame').click(copyFrame); // frame-button to copy frame\n\n    // make the first frame active\n    $('#frame1')\n      .click(openCanvas)\n      .click();\n\n    // calculating canvas resize options\n    $('#current-width').text(customWidth);\n    $('#current-height').text(customWidth);\n    $('#new-width').text($('#canvas1').width());\n    $('#resize-input').attr('max', $('#canvas1').width());\n  }\n\n  render() {\n    return (\n      <div className=\"frame-box\">\n        <ul id=\"frame-list\" className=\"frame-list\">\n          <li className=\"frame activeFrame\" id=\"frame1\">\n            <p id=\"preview-box\" className=\"preview-box\" />\n            <title className=\"number\">1</title>\n            <span className=\"copyFrame hidden\">\n              <i className=\"fas fa-copy\" />\n            </span>\n            <span className=\"removeFrame hidden\">\n              <i className=\"fas fa-trash-alt\" />\n            </span>\n          </li>\n        </ul>\n        <button className=\"addNewFrame\" onClick={addNewFrame} type=\"button\">\n          Add new frame\n        </button>\n      </div>\n    );\n  }\n}\n\nexport default Frames;\n","import $ from 'jquery';\nimport { makeImage } from '../../screens/preview/preview';\nimport store from '../../store/store';\n\n// show canvas according to active frame, hide other canvas\nfunction openCanvas() {\n  const num = $(this)\n    .find('.number')\n    .text(); // calc target frame ID\n  store.dispatch({ type: 'currentCanvas', value: +num });\n  $('.canvas').addClass('hidden'); // hide all canvas\n  $(`#canvas${num}`).removeClass('hidden'); // show current canvas\n  if ($('.activeFrame')) {\n    $('.activeFrame').removeClass('activeFrame');\n  }\n  $(this).toggleClass('activeFrame'); // make current frame active\n  setTimeout(() => {\n    makeImage(+num); // automatically make image of current canvas for animation\n  }, 200);\n}\n\n// create new canvas if new frame was created\nfunction newCanvas(n) {\n  const canvasWidth =\n    window.innerWidth - 450 < window.innerHeight - 155\n      ? window.innerWidth - 450\n      : window.innerHeight - 155;\n  const canvas = $('<canvas/>', {\n    class: 'canvas hidden',\n    id: `canvas${n}`\n  })\n    .attr('width', canvasWidth)\n    .attr('height', canvasWidth);\n  canvas.appendTo('.canvas-area');\n}\n\n// copy target frame's canvas with content if the frame was cloned\nfunction copyCanvas(n) {\n  const cloneWrapper = $(`#canvas${n}`)\n    .clone()\n    .attr('id', `canvas${+n + 1}`)\n    .attr('width', $(`#canvas${n}`).width())\n    .attr('height', $(`#canvas${n}`).width())\n    .insertAfter(`#canvas${n}`);\n  const originalContext = $(`#canvas${n}`)\n    .get(0)\n    .getContext('2d');\n  const imageData = originalContext.getImageData(\n    0,\n    0,\n    $(`#canvas${n}`).width(),\n    $(`#canvas${n}`).width()\n  );\n  const cloneContext = cloneWrapper.get(0).getContext('2d');\n  cloneContext.putImageData(imageData, 0, 0);\n}\n\nexport { copyCanvas, newCanvas, openCanvas };\n","import $ from 'jquery';\nimport { makeImage } from '../../screens/preview/preview';\nimport { openCanvas, newCanvas, copyCanvas } from './canvasManager';\n\n// show/hide frame buttons\nfunction hoverIn() {\n  const children = $(this).find('span');\n  if (children.hasClass('hidden')) {\n    children.removeClass('hidden');\n    if ($(this).is('#frame1')) {\n      $('#frame1')\n        .find('.removeFrame')\n        .addClass('hidden');\n    }\n  }\n}\nfunction hoverOut() {\n  const children = $(this).find('span');\n  if (!children.hasClass('hidden')) {\n    children.addClass('hidden');\n  }\n  if ($(this).is('#frame1')) {\n    $('#frame1')\n      .find('.copyFrame')\n      .addClass('hidden');\n  }\n}\n// update IDs after adding/removing elements\nfunction updateId() {\n  for (let i = 0; i < $('#frame-list').children().length; i += 1) {\n    $('#frame-list').children()[i].id = `frame${i + 1}`;\n    const child = $($('#frame-list').children()[i]);\n    child.find('.number').text(i + 1);\n    $('#canvas-area').children()[i].id = `canvas${i + 1}`;\n  }\n  for (let i = 0; i < $('.preview').children().length; i += 1) {\n    $('.preview').children()[i].id = `canvasImage${i + 1}`;\n  }\n}\n\nfunction removeFrame() {\n  // calculating target's ID\n  const num = $(this)\n    .parent()\n    .find('.number')\n    .text();\n  // remove all related elements\n  $(`#frame${num}`).remove();\n  $(`#canvasImage${num}`).remove();\n  $(`#canvas${num}`).remove();\n  updateId();\n  $(`#frame${+num - 1}`).click(); // make previous frame active\n}\n\nfunction copyFrame() {\n  // calculating target's ID\n  const num = $(this)\n    .parent()\n    .find('.number')\n    .text();\n  // cloning target frame\n  $(`#frame${num}`)\n    .clone()\n    .insertAfter(`#frame${num}`)\n    .attr('id', `frame${+num + 1}`)\n    .removeClass('activeFrame')\n    .hover(hoverIn, hoverOut)\n    .click(openCanvas);\n  // cloning target canvas image\n  copyCanvas(num);\n  // bind frame events\n  $(`#frame${+num + 1}`)\n    .find('.removeFrame')\n    .click(removeFrame);\n  $(`#frame${+num + 1}`)\n    .find('.copyFrame')\n    .click(copyFrame);\n  // make copied frame active\n  setTimeout(() => {\n    $(`#frame${+num + 1}`).click();\n  }, 100);\n  updateId();\n  // cloning target frame preview image\n  const dataURL = $(`#canvas${num}`)[0].toDataURL('image/png');\n  if (dataURL) {\n    $(`#frame${+num + 1}`)\n      .find('.preview-box')\n      .css({\n        background: `url(${dataURL})`,\n        'background-size': 'contain'\n      });\n  }\n  // update frame images and animation\n  for (let i = 0; i < $('#frame-list').children().length; i += 1) {\n    makeImage(i + 1);\n  }\n}\n\nfunction addNewFrame() {\n  const count = $('#frame-list').children().length + 1; // calc ID for new frame\n  $('.frame')\n    .first()\n    .clone()\n    .appendTo('#frame-list')\n    .attr('id', `frame${count}`)\n    .removeClass('activeFrame')\n    .hover(hoverIn, hoverOut)\n    .click(openCanvas)\n    .find('.preview-box')\n    .css({ background: 'none' }); // clear preview-box background from first frame\n  $('.number')\n    .last()\n    .text(count); // update number of frame\n  newCanvas(count);\n  $(`#frame${count}`)\n    .find('.removeFrame')\n    .click(removeFrame); // add event\n  $(`#frame${count}`)\n    .find('.copyFrame')\n    .click(copyFrame); // add event\n  setTimeout(() => {\n    $(`#frame${count}`).click(); // make new frame active\n  }, 100);\n}\n\nexport { hoverIn, hoverOut, addNewFrame, removeFrame, copyFrame };\n","import React from 'react';\nimport $ from 'jquery';\nimport './menu.css';\nimport store from '../../store/store';\n\nlet customWidth;\nlet fps;\nstore.subscribe(() => {\n  customWidth = store.getState().customWidth || 33;\n  fps = store.getState().fps || 3;\n});\n\nclass Options extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      fps: '',\n      customWidth: ''\n    };\n  }\n\n  componentDidMount() {\n    // calculating canvas resize options\n    $('#current-width').text(customWidth);\n    $('#current-height').text(customWidth);\n    $('#new-width').text($('#canvas1').width());\n    $('#resize-input').attr('max', `{${$('#canvas1').width()}}`);\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fpsOnChangeHandler() {\n    store.dispatch({ type: 'fps', value: $('#fps-bar').val() });\n    if (this.mounted) {\n      this.setState({ fps });\n    }\n  }\n\n  resizeCanvasOnClickHandler() {\n    if ($('#resize-input').val()) {\n      const inputVal = +$('#resize-input').val();\n      const maxSize = +$('#resize-input').attr('max');\n      if (inputVal > 0 && inputVal < maxSize) {\n        store.dispatch({ type: 'customWidth', value: $('#resize-input').val() });\n        if (this.mounted) {\n          this.setState({ customWidth });\n        }\n        $('#resize-input').val('');\n        $('#error-message').text('');\n      } else {\n        $('#error-message').text(\n          `Size can be from ${$('#resize-input').attr('min')} to ${$('#resize-input').attr(\n            'max'\n          )} px`\n        );\n        $('#resize-input').val('');\n      }\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"optionsBox\">\n        <div className=\"fps-options\">\n          <span id=\"display-fps\" className=\"display-fps\">\n            {`${this.state.fps ? this.state.fps : fps} FPS`}\n          </span>\n          <input\n            type=\"range\"\n            min=\"1\"\n            max=\"24\"\n            step=\"1\"\n            defaultValue={fps}\n            id=\"fps-bar\"\n            onChange={() => this.fpsOnChangeHandler()}\n          />\n        </div>\n        <div className=\"current-size\">\n          <span className=\"default-size bold\">current size</span>\n          <p>\n            {`Width `}\n            <span className=\"default-width bold\" id=\"current-width\">\n              {this.state.customWidth}\n            </span>\n            px\n          </p>\n          <p>\n            Height\n            <span className=\"default-width bold\" id=\"current-height\">\n              {this.state.customWidth}\n            </span>\n            px\n          </p>\n        </div>\n        <div className=\"resize-canvas\">\n          <span className=\"resize bold\">resize</span>\n          <p className=\"new-width-block\">\n            <span>1 - </span>\n            <span id=\"new-width\" className=\"canvas-width\" />\n            <span>px</span>\n            <input type=\"number\" className=\"resize-input\" id=\"resize-input\" min=\"1\" />\n          </p>\n          <p id=\"error-message\" className=\"error-message\" />\n          <button\n            id=\"resize-button\"\n            className=\"resize-button\"\n            type=\"button\"\n            onClick={() => this.resizeCanvasOnClickHandler()}\n          >\n            Change canvas size\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Options;\n","import React from 'react';\nimport './preview.css';\nimport { fullSizePreview } from './preview';\n\nclass Preview extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      active: ''\n    };\n    this.mounted = false;\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  hoverIn() {\n    if (this.mounted) {\n      this.setState({ active: true });\n    }\n  }\n\n  hoverOut() {\n    if (this.mounted) {\n      this.setState({ active: false });\n    }\n  }\n\n  render() {\n    return (\n      <div\n        id=\"preview-area\"\n        className=\"preview-area\"\n        onMouseEnter={() => this.hoverIn()}\n        onMouseLeave={() => this.hoverOut()}\n      >\n        <div\n          className={`preview-open ${this.state.active ? '' : 'hidden'}`}\n          id=\"preview-open\"\n          role=\"button\"\n          tabIndex=\"-1\"\n          onKeyPress={undefined}\n          onClick={fullSizePreview} // open animation in full size mode\n        >\n          <i className=\"fas fa-external-link-alt\" />\n        </div>\n        <div className=\"preview\" />\n      </div>\n    );\n  }\n}\n\nexport default Preview;\n","import React from 'react';\nimport Tools from '../../components/tools/toolsDomBuilder';\nimport Canvas from '../../screens/canvas/canvasDomBuilder';\nimport Frames from '../../components/frames-list/frameDomBuilder';\nimport Preview from '../../screens/preview/previewDomBuilder';\nimport Options from '../../components/menu/options';\n\nclass CreateAnimation extends React.Component {\n  constructor() {\n    super();\n    this.state = {};\n  }\n\n  render() {\n    return (\n      <div>\n        <div id=\"container\" className=\"container\">\n          <section className=\"tool-pannel\" id=\"tool-pannel\">\n            <Tools />\n          </section>\n          <section className=\"frame-area\" id=\"frame-area\">\n            <Frames />\n          </section>\n          <section className=\"canvas-area\" id=\"canvas-area\">\n            <Canvas />\n          </section>\n          <section className=\"preview-area noselect\" id=\"preview-area\">\n            <Preview />\n          </section>\n          <section className=\"options-area\" id=\"options-area\">\n            <Options />\n          </section>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default CreateAnimation;\n","import React from 'react';\n\nclass Login extends React.Component {\n  constructor() {\n    super();\n    this.state = {};\n  }\n\n  render() {\n    return <div name=\"Tools\">login page</div>;\n  }\n}\n\nexport default Login;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport store from '../../store/store';\n\nclass About extends React.Component {\n  constructor() {\n    super();\n    this.state = {};\n  }\n\n  render() {\n    return (\n      <div className=\"homepage-section\">\n        <div className=\"home-about\">\n          <h1>\n            <span className=\"piskel\">Piskel-clone </span>\n            is a free online editor for animated sprites & pixel art\n          </h1>\n          <h2>Create animations in your browser.</h2>\n          <h2>\n            <span className=\"description\">Try an example</span>\n            {', use '}\n            <Link\n              to=\"/clown/piskel-clown/build/login/\"\n              className=\"description\"\n              onClick={() => store.dispatch({ type: 'currentPage', value: 'login' })}\n            >\n              Google sign in\n            </Link>\n            {' to access your gallery or simply '}\n            <Link\n              to=\"/clown/piskel-clown/build/create-animation/\"\n              className=\"description\"\n              onClick={() => store.dispatch({ type: 'currentPage', value: 'create' })}\n            >\n              create a new sprite.\n            </Link>\n          </h2>\n          <div className=\"home-buttons\">\n            <button type=\"button\" className=\"login-button\">\n              <Link\n                to=\"/clown/piskel-clown/build/login/\"\n                className=\"link\"\n                onClick={() => store.dispatch({ type: 'currentPage', value: 'login' })}\n              >\n                Sign in\n              </Link>\n            </button>\n            <button type=\"button\" className=\"create-button\">\n              <Link\n                to=\"/clown/piskel-clown/build/create-animation/\"\n                className=\"link\"\n                onClick={() => store.dispatch({ type: 'currentPage', value: 'create' })}\n              >\n                Create Sprite\n              </Link>\n            </button>\n          </div>\n        </div>\n        <div className=\"home-image\">\n          <div className=\"screen\" />\n          <div className=\"home-preview\" />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default About;\n","import React from 'react';\nimport { Route, Link } from 'react-router-dom';\nimport './home.css';\nimport $ from 'jquery';\nimport CreateAnimation from './create/create';\nimport Login from './login/login';\nimport About from './about/about';\nimport store from '../store/store';\n\nclass AppRouter extends React.Component {\n  constructor() {\n    super();\n    this.state = {};\n  }\n\n  render() {\n    return (\n      <div>\n        <header className=\"header\">\n          <div className=\"header-menu\">\n            <span className=\"menu-icon\">\n              <i className=\"fas fa-bars\" />\n            </span>\n            <ul className=\"menu\">\n              <li className=\"homepage\">\n                <Link\n                  to=\"/clown/piskel-clown/build/\"\n                  className=\"task-name\"\n                  onClick={() => {\n                    store.dispatch({ type: 'currentPage', value: 'about' });\n                    $(document.body).css({ cursor: 'default' });\n                  }}\n                >\n                  Piskel-clone\n                </Link>\n              </li>\n              <li className=\"create menu-item\">\n                <Link\n                  to=\"/clown/piskel-clown/build/create-animation/\"\n                  className=\"create-link\"\n                  onClick={() => {\n                    store.dispatch({ type: 'currentPage', value: 'create' });\n                    $(document.body).css({ cursor: 'default' });\n                  }}\n                >\n                  Create Animation\n                </Link>\n              </li>\n              <li id=\"login\" className=\"login menu-item\">\n                <Link\n                  to=\"/clown/piskel-clown/build/login/\"\n                  className=\"login-link\"\n                  onClick={() => {\n                    store.dispatch({ type: 'currentPage', value: 'login' });\n                    $(document.body).css({ cursor: 'default' });\n                  }}\n                >\n                  Log in\n                </Link>\n              </li>\n            </ul>\n          </div>\n        </header>\n        <Route path=\"/clown/piskel-clown/build/\" exact component={About} />\n        <Route path=\"/clown/piskel-clown/build/login/\" component={Login} />\n        <Route path=\"/clown/piskel-clown/build/create-animation/\" component={CreateAnimation} />\n      </div>\n    );\n  }\n}\n\nexport default AppRouter;\n","/* eslint-disable no-param-reassign */\n/* eslint-disable no-console */\n/* eslint-disable no-use-before-define */\n// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport './index.css';\nimport AppRouter from './homepage/home';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <Router>\n    <AppRouter />\n  </Router>,\n  document.getElementById('home-page')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}